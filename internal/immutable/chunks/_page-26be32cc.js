var Vs=Object.defineProperty;var Fs=(t,e,n)=>e in t?Vs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var mt=(t,e,n)=>(Fs(t,typeof e!="symbol"?e+"":e,n),n);import{S as Wt,i as Qt,s as Yt,F as In,k as X,q as ct,a as nt,l as W,m as Q,r as ht,h as P,c as rt,n as I,b as it,J as C,L as Ye,u as an,G as Nn,H as Mn,I as Dn,f as L,t as V,M as Fr,w as Z,x as J,y as tt,g as be,d as $e,z as et,N as Ur,O as _t,P as yt,Q as wt,R as Us,T as Gs,o as Xs,U as Ws,B as Nt,C as ue,V as Qs,W as Ys,D as js,K as Ks}from"./index-04c8a6d0.js";import{p as Zs}from"./stores-f65c066e.js";import{j as jt}from"./singletons-1dd5363d.js";import{m as Gr,S as On,L as Js,B as ta,D as ea,I as Rn,N as Xr,a as na,b as ra,c as Wr,d as ia,C as sa,e as aa}from"./ColorInput-b5b4d3d0.js";import{_ as mr}from"./preload-helper-41c905a7.js";import{w as St}from"./index-7838a8a2.js";const Ln=t=>{var e,n;return t.mode==="wdqs"&&t.wdqs!==void 0&&((e=t.wdqs)==null?void 0:e.length)>0||((n=t.language)==null?void 0:n.length)>0&&t.item!==void 0&&t.property!==void 0},oa=t=>t.charAt(0).toUpperCase()+t.slice(1),Qr=t=>t.limit!==0||t.iterations!==0||t.mode==="undirected",je=(t,e=t.mode)=>e==="both"?`{ ${je(t,"forward")} } UNION { ${je(t,"reverse")} }`:Qr(t)?`SERVICE gas:service {
    gas:program gas:gasClass "com.bigdata.rdf.graph.analytics.SSSP" ;
                gas:in wd:${t.item} ;
                gas:traversalDirection "${oa(e)}" ;
                gas:out ?item ;
                gas:out1 ?depth ;${t.iterations?`
                gas:maxIterations ${t.iterations} ;`:""}${t.limit?`
                gas:maxVisited ${t.limit} ;`:""}
                gas:linkType wdt:${t.property} .
  }`:e==="forward"?`wd:${t.item} wdt:${t.property}* ?item`:e==="reverse"?`?item wdt:${t.property}* wd:${t.item}`:"",Yr=t=>{if(!t||!Ln(t))return;if(t.mode==="wdqs")return t.wdqs;if(!t.item||!t.property)return;const e=Qr(t)?`PREFIX gas: <http://www.bigdata.com/rdf/gas#>

`:"",r=`SERVICE wikibase:label {bd:serviceParam wikibase:language "${t.language==="en"?"en":t.language+",en"}" }`;return t.sizeProperty?e+`  SELECT ?item ?itemLabel ?linkTo ?size {
    { SELECT ?item (count(distinct ?element) as ?size) {
    ${je(t)}
    OPTIONAL { ?element wdt:${t.sizeProperty} ?item }
    } GROUP BY ?item }
    OPTIONAL { ?item wdt:${t.property} ?linkTo }
    ${r}
  }  `:e+`SELECT ?item ?itemLabel ?linkTo {
${je(t)}
OPTIONAL { ?item wdt:${t.property} ?linkTo }
${r}
}`};jt.disable_scroll_handling;const ua=jt.goto;jt.invalidate;jt.invalidateAll;jt.preload_data;jt.preload_code;jt.before_navigate;jt.after_navigate;const qn="en",jr=0,Kr=0,Bn="forward",Zr="preserve",Jr="#000000",ti=1,ei="none",ni={forward:"Forward",reverse:"Reverse",both:"Bidirectional",undirected:"Undirected",wdqs:"SPARQL query"},ri={preserve:"Preserve",remove:"Remove",relax:"Relax"},ii={none:"Force-directed",down:"Top to bottom",up:"Bottom to top",right:"Left to right",left:"Right to left"},_r=(t=new URLSearchParams)=>{const e=/^P\d+$/.test(t.get("property")??"")?t.get("property"):void 0,n=/^Q\d+$/.test(t.get("item")??"")?t.get("item"):void 0,r=/^[a-z-]{2,}$/.test(t.get("lang")??"")?t.get("lang"):qn,s=/^\d+$/.test(t.get("iterations")??"")?Number.parseInt(t.get("iterations"),10):jr,a=/^\d+$/.test(t.get("limit")??"")?Number.parseInt(t.get("limit"),10):Kr,i=t.get("mode")??t.get("direction"),u=i&&ni[i]?i:Bn,o=t.get("wdqs")??void 0,l=/^P\d+$/.test(t.get("size_property")??"")?t.get("size_property"):void 0,f={property:e,item:n,language:r,iterations:s,limit:a,mode:u,wdqs:o,sizeProperty:l},h=t.get("sc"),p=ri[h]?h:Zr,m=/^#[\da-fA-F]{6}|#[\da-fA-F]{8}$/.test(t.get("sc_color")??"")?t.get("sc_color"):Jr,x=/^\d+$/.test(t.get("sc_width")??"")?Number.parseInt(t.get("sc_width"),10):ti,w=t.get("graph_direction"),A=ii[w]?w:ei;return{queryParameters:f,visParameters:{shortcutsMode:p,shortcutsColor:m,shortcutsWidth:x,graphDirection:A}}},vr=async(t,e,n)=>{const r=new URLSearchParams;t.item&&r.append("item",t.item),t.property&&r.append("property",t.property),t.mode!==Bn&&r.append("mode",t.mode),t.limit!==void 0&&t.limit!==Kr&&r.append("limit",t.limit.toString()),t.iterations!==void 0&&t.iterations!==jr&&r.append("iterations",t.iterations.toString()),t.language!==qn&&r.append("lang",t.language),t.wdqs&&t.mode==="wdqs"&&r.append("wdqs",t.wdqs),t.sizeProperty&&r.append("size_property",t.sizeProperty),e.shortcutsMode!==Zr&&r.append("sc",e.shortcutsMode),e.shortcutsColor!==Jr&&r.append("sc_color",e.shortcutsColor),e.shortcutsWidth!==ti&&r.append("sc_width",e.shortcutsWidth.toString()),e.graphDirection!==ei&&r.append("graph_direction",e.graphDirection),await ua("?"+r.toString(),{replaceState:n})},la=function(t){const e=`#defaultView:Graph
`+Yr(t);return"https://query.wikidata.org/#"+encodeURIComponent(e)},fa=t=>{let e="https://tools.wmflabs.org/wikidata-todo/tree.html?q="+t.item.slice(1);return(t.mode==="reverse"||t.mode==="both")&&(e+="&rp="+t.property.slice(1)),(t.mode==="forward"||t.mode==="both")&&(e+="&p="+t.property.slice(1)),t.iterations!==0&&(e+=`&depth=${t.iterations??0}`),t.language!=="en"&&(e+=`&lang=${t.language??"en"}`),e},ca=t=>{if(!Ln(t))return[];const e=[{text:"Wikidata Query Service",link:la(t)}];return(t.mode==="forward"||t.mode==="reverse")&&e.push({text:"Wikidata generic tree",link:fa(t)}),e};var Le=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ha(t){let e,n,r,s,a,i,u;const o=t[5].default,l=In(o,t,t[4],null);return{c(){e=X("div"),n=X("label"),r=ct(t[1]),s=nt(),l&&l.c(),this.h()},l(f){e=W(f,"DIV",{class:!0});var h=Q(e);n=W(h,"LABEL",{for:!0,class:!0,id:!0});var p=Q(n);r=ht(p,t[1]),p.forEach(P),s=rt(h),l&&l.l(h),h.forEach(P),this.h()},h(){I(n,"for",t[0]),I(n,"class","px-1 border-transparent border-[1.99px] text-sm text-white/50 mb-0.5 font-bold"),I(n,"id","label-"+t[0]),I(e,"class",t[2])},m(f,h){it(f,e,h),C(e,n),C(n,r),C(e,s),l&&l.m(e,null),a=!0,i||(u=Ye(n,"mousedown",t[3]),i=!0)},p(f,[h]){(!a||h&2)&&an(r,f[1]),l&&l.p&&(!a||h&16)&&Nn(l,o,f,f[4],a?Dn(o,f[4],h,null):Mn(f[4]),null),(!a||h&4)&&I(e,"class",f[2])},i(f){a||(L(l,f),a=!0)},o(f){V(l,f),a=!1},d(f){f&&P(e),l&&l.d(f),i=!1,u()}}}function da(t,e,n){let{$$slots:r={},$$scope:s}=e;const a=Gr(10);let{label:i}=e,{class:u=""}=e;const o=l=>{var h;const f=(h=document.activeElement)==null?void 0:h.id;(f===a||f==="field-"+a)&&l.preventDefault()};return Fr("field",{id:a}),t.$$set=l=>{"label"in l&&n(1,i=l.label),"class"in l&&n(2,u=l.class),"$$scope"in l&&n(4,s=l.$$scope)},[a,i,u,o,s,r]}class ne extends Wt{constructor(e){super(),Qt(this,e,da,ha,Yt,{id:0,label:1,class:2})}get id(){return this.$$.ctx[0]}}function pa(t){let e,n,r;const s=t[2].default,a=In(s,t,t[1],null);return{c(){e=X("div"),a&&a.c(),this.h()},l(i){e=W(i,"DIV",{class:!0});var u=Q(e);a&&a.l(u),u.forEach(P),this.h()},h(){I(e,"class",n="border-x-[1.99px] border-transparent px-1 "+t[0])},m(i,u){it(i,e,u),a&&a.m(e,null),r=!0},p(i,[u]){a&&a.p&&(!r||u&2)&&Nn(a,s,i,i[1],r?Dn(s,i[1],u,null):Mn(i[1]),null),(!r||u&1&&n!==(n="border-x-[1.99px] border-transparent px-1 "+i[0]))&&I(e,"class",n)},i(i){r||(L(a,i),r=!0)},o(i){V(a,i),r=!1},d(i){i&&P(e),a&&a.d(i)}}}function ga(t,e,n){let{$$slots:r={},$$scope:s}=e,{class:a=""}=e;return t.$$set=i=>{"class"in i&&n(0,a=i.class),"$$scope"in i&&n(1,s=i.$$scope)},[a,s,r]}class ma extends Wt{constructor(e){super(),Qt(this,e,ga,pa,Yt,{class:0})}}function _a(t){let e,n,r;function s(i){t[16](i)}let a={options:ni};return t[4]!==void 0&&(a.value=t[4]),e=new On({props:a}),_t.push(()=>yt(e,"value",s)),{c(){Z(e.$$.fragment)},l(i){J(e.$$.fragment,i)},m(i,u){tt(e,i,u),r=!0},p(i,u){const o={};!n&&u&16&&(n=!0,o.value=i[4],wt(()=>n=!1)),e.$set(o)},i(i){r||(L(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){et(e,i)}}}function va(t){let e,n,r;function s(i){t[17](i)}let a={placeholder:"Click to set"};return t[2]!==void 0&&(a.value=t[2]),e=new Js({props:a}),_t.push(()=>yt(e,"value",s)),{c(){Z(e.$$.fragment)},l(i){J(e.$$.fragment,i)},m(i,u){tt(e,i,u),r=!0},p(i,u){const o={};!n&&u&4&&(n=!0,o.value=i[2],wt(()=>n=!1)),e.$set(o)},i(i){r||(L(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){et(e,i)}}}function ya(t){let e,n,r,s,a,i,u,o;return e=new ne({props:{label:"Traversal property",$$slots:{default:[ba]},$$scope:{ctx:t}}}),r=new ne({props:{label:"Root item",$$slots:{default:[$a]},$$scope:{ctx:t}}}),a=new ne({props:{label:"Iterations",$$slots:{default:[xa]},$$scope:{ctx:t}}}),u=new ne({props:{label:"Size property",$$slots:{default:[Ea]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=nt(),Z(r.$$.fragment),s=nt(),Z(a.$$.fragment),i=nt(),Z(u.$$.fragment)},l(l){J(e.$$.fragment,l),n=rt(l),J(r.$$.fragment,l),s=rt(l),J(a.$$.fragment,l),i=rt(l),J(u.$$.fragment,l)},m(l,f){tt(e,l,f),it(l,n,f),tt(r,l,f),it(l,s,f),tt(a,l,f),it(l,i,f),tt(u,l,f),o=!0},p(l,f){const h={};f&268435718&&(h.$$scope={dirty:f,ctx:l}),e.$set(h);const p={};f&268435589&&(p.$$scope={dirty:f,ctx:l}),r.$set(p);const m={};f&268435464&&(m.$$scope={dirty:f,ctx:l}),a.$set(m);const x={};f&268436036&&(x.$$scope={dirty:f,ctx:l}),u.$set(x)},i(l){o||(L(e.$$.fragment,l),L(r.$$.fragment,l),L(a.$$.fragment,l),L(u.$$.fragment,l),o=!0)},o(l){V(e.$$.fragment,l),V(r.$$.fragment,l),V(a.$$.fragment,l),V(u.$$.fragment,l),o=!1},d(l){et(e,l),l&&P(n),et(r,l),l&&P(s),et(a,l),l&&P(i),et(u,l)}}}function wa(t){let e,n;return e=new ne({props:{label:"SPARQL query",$$slots:{default:[Ta]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},l(r){J(e.$$.fragment,r)},m(r,s){tt(e,r,s),n=!0},p(r,s){const a={};s&268435488&&(a.$$scope={dirty:s,ctx:r}),e.$set(a)},i(r){n||(L(e.$$.fragment,r),n=!0)},o(r){V(e.$$.fragment,r),n=!1},d(r){et(e,r)}}}function ba(t){let e,n,r,s;function a(o){t[19](o)}function i(o){t[20](o)}let u={type:"property",language:t[2]};return t[8]!==void 0&&(u.value=t[8]),t[1]!==void 0&&(u.valueObject=t[1]),e=new Rn({props:u}),_t.push(()=>yt(e,"value",a)),_t.push(()=>yt(e,"valueObject",i)),{c(){Z(e.$$.fragment)},l(o){J(e.$$.fragment,o)},m(o,l){tt(e,o,l),s=!0},p(o,l){const f={};l&4&&(f.language=o[2]),!n&&l&256&&(n=!0,f.value=o[8],wt(()=>n=!1)),!r&&l&2&&(r=!0,f.valueObject=o[1],wt(()=>r=!1)),e.$set(f)},i(o){s||(L(e.$$.fragment,o),s=!0)},o(o){V(e.$$.fragment,o),s=!1},d(o){et(e,o)}}}function $a(t){let e,n,r,s;function a(o){t[21](o)}function i(o){t[22](o)}let u={type:"item",language:t[2]};return t[7]!==void 0&&(u.value=t[7]),t[0]!==void 0&&(u.valueObject=t[0]),e=new Rn({props:u}),_t.push(()=>yt(e,"value",a)),_t.push(()=>yt(e,"valueObject",i)),{c(){Z(e.$$.fragment)},l(o){J(e.$$.fragment,o)},m(o,l){tt(e,o,l),s=!0},p(o,l){const f={};l&4&&(f.language=o[2]),!n&&l&128&&(n=!0,f.value=o[7],wt(()=>n=!1)),!r&&l&1&&(r=!0,f.valueObject=o[0],wt(()=>r=!1)),e.$set(f)},i(o){s||(L(e.$$.fragment,o),s=!0)},o(o){V(e.$$.fragment,o),s=!1},d(o){et(e,o)}}}function xa(t){let e,n,r;function s(i){t[23](i)}let a={min:0,max:1e5,placeholder:"Unlimited",treatZeroAsUndefined:!0};return t[3]!==void 0&&(a.value=t[3]),e=new Xr({props:a}),_t.push(()=>yt(e,"value",s)),{c(){Z(e.$$.fragment)},l(i){J(e.$$.fragment,i)},m(i,u){tt(e,i,u),r=!0},p(i,u){const o={};!n&&u&8&&(n=!0,o.value=i[3],wt(()=>n=!1)),e.$set(o)},i(i){r||(L(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){et(e,i)}}}function Ea(t){let e,n,r,s;function a(o){t[24](o)}function i(o){t[25](o)}let u={type:"property",language:t[2]};return t[9]!==void 0&&(u.value=t[9]),t[6]!==void 0&&(u.valueObject=t[6]),e=new Rn({props:u}),_t.push(()=>yt(e,"value",a)),_t.push(()=>yt(e,"valueObject",i)),{c(){Z(e.$$.fragment)},l(o){J(e.$$.fragment,o)},m(o,l){tt(e,o,l),s=!0},p(o,l){const f={};l&4&&(f.language=o[2]),!n&&l&512&&(n=!0,f.value=o[9],wt(()=>n=!1)),!r&&l&64&&(r=!0,f.valueObject=o[6],wt(()=>r=!1)),e.$set(f)},i(o){s||(L(e.$$.fragment,o),s=!0)},o(o){V(e.$$.fragment,o),s=!1},d(o){et(e,o)}}}function Ta(t){let e,n,r;function s(i){t[18](i)}let a={multiline:!0,class:"min-h-[8rem] font-mono text-sm"};return t[5]!==void 0&&(a.value=t[5]),e=new na({props:a}),_t.push(()=>yt(e,"value",s)),{c(){Z(e.$$.fragment)},l(i){J(e.$$.fragment,i)},m(i,u){tt(e,i,u),r=!0},p(i,u){const o={};!n&&u&32&&(n=!0,o.value=i[5],wt(()=>n=!1)),e.$set(o)},i(i){r||(L(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){et(e,i)}}}function Aa(t){let e;return{c(){e=ct("Build")},l(n){e=ht(n,"Build")},m(n,r){it(n,e,r)},d(n){n&&P(e)}}}function Pa(t){let e,n,r,s;return e=new ta({props:{disabled:!t[11],class:"w-[calc(50%-0.25rem)]",primary:!0,$$slots:{default:[Aa]},$$scope:{ctx:t}}}),e.$on("click",t[12]),r=new ea({props:{class:"w-[calc(50%-0.25rem)]",title:"Tools",links:t[10]}}),{c(){Z(e.$$.fragment),n=nt(),Z(r.$$.fragment)},l(a){J(e.$$.fragment,a),n=rt(a),J(r.$$.fragment,a)},m(a,i){tt(e,a,i),it(a,n,i),tt(r,a,i),s=!0},p(a,i){const u={};i&2048&&(u.disabled=!a[11]),i&268435456&&(u.$$scope={dirty:i,ctx:a}),e.$set(u);const o={};i&1024&&(o.links=a[10]),r.$set(o)},i(a){s||(L(e.$$.fragment,a),L(r.$$.fragment,a),s=!0)},o(a){V(e.$$.fragment,a),V(r.$$.fragment,a),s=!1},d(a){et(e,a),a&&P(n),et(r,a)}}}function Sa(t){let e,n,r,s,a,i,u,o,l,f,h;r=new ne({props:{class:"w-[calc(50%-0.25rem)] box-border",label:"Mode",$$slots:{default:[_a]},$$scope:{ctx:t}}}),a=new ne({props:{class:"w-[calc(50%-0.25rem)] box-border",label:"Language",$$slots:{default:[va]},$$scope:{ctx:t}}});const p=[wa,ya],m=[];function x(w,A){return w[4]==="wdqs"?0:1}return u=x(t),o=m[u]=p[u](t),f=new ma({props:{class:"flex gap-2 pt-2",$$slots:{default:[Pa]},$$scope:{ctx:t}}}),{c(){e=X("div"),n=X("div"),Z(r.$$.fragment),s=nt(),Z(a.$$.fragment),i=nt(),o.c(),l=nt(),Z(f.$$.fragment),this.h()},l(w){e=W(w,"DIV",{class:!0});var A=Q(e);n=W(A,"DIV",{class:!0});var $=Q(n);J(r.$$.fragment,$),s=rt($),J(a.$$.fragment,$),$.forEach(P),i=rt(A),o.l(A),l=rt(A),J(f.$$.fragment,A),A.forEach(P),this.h()},h(){I(n,"class","flex gap-2"),I(e,"class","space-y-2")},m(w,A){it(w,e,A),C(e,n),tt(r,n,null),C(n,s),tt(a,n,null),C(e,i),m[u].m(e,null),C(e,l),tt(f,e,null),h=!0},p(w,[A]){const $={};A&268435472&&($.$$scope={dirty:A,ctx:w}),r.$set($);const D={};A&268435460&&(D.$$scope={dirty:A,ctx:w}),a.$set(D);let q=u;u=x(w),u===q?m[u].p(w,A):(be(),V(m[q],1,1,()=>{m[q]=null}),$e(),o=m[u],o?o.p(w,A):(o=m[u]=p[u](w),o.c()),L(o,1),o.m(e,l));const y={};A&268438528&&(y.$$scope={dirty:A,ctx:w}),f.$set(y)},i(w){h||(L(r.$$.fragment,w),L(a.$$.fragment,w),L(o),L(f.$$.fragment,w),h=!0)},o(w){V(r.$$.fragment,w),V(a.$$.fragment,w),V(o),V(f.$$.fragment,w),h=!1},d(w){w&&P(e),et(r),et(a),m[u].d(),et(f)}}}function ka(t,e,n){let r,s,a,{appParameters:i}=e,u,o,l,f,h=qn,p,m,x=Bn,w,A,$;const D=Ur(),q=async b=>{n(7,{item:u,property:l,language:h,iterations:p,limit:m,mode:x,wdqs:w,sizeProperty:A}=b.queryParameters,u,n(8,l),n(2,h),n(3,p),n(14,m),n(4,x),n(5,w),n(9,A))},y=()=>{D("submit",r)};function N(b){x=b,n(4,x)}function R(b){h=b,n(2,h)}function H(b){w=b,n(5,w)}function K(b){l=b,n(8,l)}function j(b){f=b,n(1,f)}function G(b){u=b,n(7,u)}function S(b){o=b,n(0,o)}function E(b){p=b,n(3,p)}function F(b){A=b,n(9,A)}function g(b){$=b,n(6,$)}return t.$$set=b=>{"appParameters"in b&&n(13,i=b.appParameters)},t.$$.update=()=>{t.$$.dirty&8192&&q(i),t.$$.dirty&16511&&n(15,r={property:f==null?void 0:f.id,item:o==null?void 0:o.id,language:h,iterations:p,limit:m,mode:x,wdqs:w,sizeProperty:$==null?void 0:$.id}),t.$$.dirty&32768&&n(11,s=Ln(r)),t.$$.dirty&32768&&n(10,a=ca(r))},[o,f,h,p,x,w,$,u,l,A,a,s,y,i,m,r,N,R,H,K,j,G,S,E,F,g]}class Ca extends Wt{constructor(e){super(),Qt(this,e,ka,Sa,Yt,{appParameters:13})}}var za={value:()=>{}};function on(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ge(n)}function Ge(t){this._=t}function Ia(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ge.prototype=on.prototype={constructor:Ge,on:function(t,e){var n=this._,r=Ia(t+"",n),s,a=-1,i=r.length;if(arguments.length<2){for(;++a<i;)if((s=(t=r[a]).type)&&(s=Na(n[s],t.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<i;)if(s=(t=r[a]).type)n[s]=yr(n[s],t.name,e);else if(e==null)for(s in n)n[s]=yr(n[s],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ge(t)},call:function(t,e){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,a;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,s=a.length;r<s;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],s=0,a=r.length;s<a;++s)r[s].value.apply(e,n)}};function Na(t,e){for(var n=0,r=t.length,s;n<r;++n)if((s=t[n]).name===e)return s.value}function yr(t,e,n){for(var r=0,s=t.length;r<s;++r)if(t[r].name===e){t[r]=za,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var xn="http://www.w3.org/1999/xhtml";const wr={svg:"http://www.w3.org/2000/svg",xhtml:xn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function un(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),wr.hasOwnProperty(e)?{space:wr[e],local:t}:t}function Ma(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===xn&&e.documentElement.namespaceURI===xn?e.createElement(t):e.createElementNS(n,t)}}function Da(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function si(t){var e=un(t);return(e.local?Da:Ma)(e)}function Oa(){}function Hn(t){return t==null?Oa:function(){return this.querySelector(t)}}function Ra(t){typeof t!="function"&&(t=Hn(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var a=e[s],i=a.length,u=r[s]=new Array(i),o,l,f=0;f<i;++f)(o=a[f])&&(l=t.call(o,o.__data__,f,a))&&("__data__"in o&&(l.__data__=o.__data__),u[f]=l);return new xt(r,this._parents)}function La(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function qa(){return[]}function ai(t){return t==null?qa:function(){return this.querySelectorAll(t)}}function Ba(t){return function(){return La(t.apply(this,arguments))}}function Ha(t){typeof t=="function"?t=Ba(t):t=ai(t);for(var e=this._groups,n=e.length,r=[],s=[],a=0;a<n;++a)for(var i=e[a],u=i.length,o,l=0;l<u;++l)(o=i[l])&&(r.push(t.call(o,o.__data__,l,i)),s.push(o));return new xt(r,s)}function oi(t){return function(){return this.matches(t)}}function ui(t){return function(e){return e.matches(t)}}var Va=Array.prototype.find;function Fa(t){return function(){return Va.call(this.children,t)}}function Ua(){return this.firstElementChild}function Ga(t){return this.select(t==null?Ua:Fa(typeof t=="function"?t:ui(t)))}var Xa=Array.prototype.filter;function Wa(){return Array.from(this.children)}function Qa(t){return function(){return Xa.call(this.children,t)}}function Ya(t){return this.selectAll(t==null?Wa:Qa(typeof t=="function"?t:ui(t)))}function ja(t){typeof t!="function"&&(t=oi(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var a=e[s],i=a.length,u=r[s]=[],o,l=0;l<i;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new xt(r,this._parents)}function li(t){return new Array(t.length)}function Ka(){return new xt(this._enter||this._groups.map(li),this._parents)}function Ke(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Ke.prototype={constructor:Ke,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Za(t){return function(){return t}}function Ja(t,e,n,r,s,a){for(var i=0,u,o=e.length,l=a.length;i<l;++i)(u=e[i])?(u.__data__=a[i],r[i]=u):n[i]=new Ke(t,a[i]);for(;i<o;++i)(u=e[i])&&(s[i]=u)}function to(t,e,n,r,s,a,i){var u,o,l=new Map,f=e.length,h=a.length,p=new Array(f),m;for(u=0;u<f;++u)(o=e[u])&&(p[u]=m=i.call(o,o.__data__,u,e)+"",l.has(m)?s[u]=o:l.set(m,o));for(u=0;u<h;++u)m=i.call(t,a[u],u,a)+"",(o=l.get(m))?(r[u]=o,o.__data__=a[u],l.delete(m)):n[u]=new Ke(t,a[u]);for(u=0;u<f;++u)(o=e[u])&&l.get(p[u])===o&&(s[u]=o)}function eo(t){return t.__data__}function no(t,e){if(!arguments.length)return Array.from(this,eo);var n=e?to:Ja,r=this._parents,s=this._groups;typeof t!="function"&&(t=Za(t));for(var a=s.length,i=new Array(a),u=new Array(a),o=new Array(a),l=0;l<a;++l){var f=r[l],h=s[l],p=h.length,m=ro(t.call(f,f&&f.__data__,l,r)),x=m.length,w=u[l]=new Array(x),A=i[l]=new Array(x),$=o[l]=new Array(p);n(f,h,w,A,$,m,e);for(var D=0,q=0,y,N;D<x;++D)if(y=w[D]){for(D>=q&&(q=D+1);!(N=A[q])&&++q<x;);y._next=N||null}}return i=new xt(i,r),i._enter=u,i._exit=o,i}function ro(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function io(){return new xt(this._exit||this._groups.map(li),this._parents)}function so(t,e,n){var r=this.enter(),s=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(s=e(s),s&&(s=s.selection())),n==null?a.remove():n(a),r&&s?r.merge(s).order():s}function ao(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,s=n.length,a=r.length,i=Math.min(s,a),u=new Array(s),o=0;o<i;++o)for(var l=n[o],f=r[o],h=l.length,p=u[o]=new Array(h),m,x=0;x<h;++x)(m=l[x]||f[x])&&(p[x]=m);for(;o<s;++o)u[o]=n[o];return new xt(u,this._parents)}function oo(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],s=r.length-1,a=r[s],i;--s>=0;)(i=r[s])&&(a&&i.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(i,a),a=i);return this}function uo(t){t||(t=lo);function e(h,p){return h&&p?t(h.__data__,p.__data__):!h-!p}for(var n=this._groups,r=n.length,s=new Array(r),a=0;a<r;++a){for(var i=n[a],u=i.length,o=s[a]=new Array(u),l,f=0;f<u;++f)(l=i[f])&&(o[f]=l);o.sort(e)}return new xt(s,this._parents).order()}function lo(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function fo(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function co(){return Array.from(this)}function ho(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,a=r.length;s<a;++s){var i=r[s];if(i)return i}return null}function po(){let t=0;for(const e of this)++t;return t}function go(){return!this.node()}function mo(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var s=e[n],a=0,i=s.length,u;a<i;++a)(u=s[a])&&t.call(u,u.__data__,a,s);return this}function _o(t){return function(){this.removeAttribute(t)}}function vo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function yo(t,e){return function(){this.setAttribute(t,e)}}function wo(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function bo(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function $o(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function xo(t,e){var n=un(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?vo:_o:typeof e=="function"?n.local?$o:bo:n.local?wo:yo)(n,e))}function fi(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Eo(t){return function(){this.style.removeProperty(t)}}function To(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ao(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Po(t,e,n){return arguments.length>1?this.each((e==null?Eo:typeof e=="function"?Ao:To)(t,e,n??"")):ce(this.node(),t)}function ce(t,e){return t.style.getPropertyValue(e)||fi(t).getComputedStyle(t,null).getPropertyValue(e)}function So(t){return function(){delete this[t]}}function ko(t,e){return function(){this[t]=e}}function Co(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function zo(t,e){return arguments.length>1?this.each((e==null?So:typeof e=="function"?Co:ko)(t,e)):this.node()[t]}function ci(t){return t.trim().split(/^|\s+/)}function Vn(t){return t.classList||new hi(t)}function hi(t){this._node=t,this._names=ci(t.getAttribute("class")||"")}hi.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function di(t,e){for(var n=Vn(t),r=-1,s=e.length;++r<s;)n.add(e[r])}function pi(t,e){for(var n=Vn(t),r=-1,s=e.length;++r<s;)n.remove(e[r])}function Io(t){return function(){di(this,t)}}function No(t){return function(){pi(this,t)}}function Mo(t,e){return function(){(e.apply(this,arguments)?di:pi)(this,t)}}function Do(t,e){var n=ci(t+"");if(arguments.length<2){for(var r=Vn(this.node()),s=-1,a=n.length;++s<a;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof e=="function"?Mo:e?Io:No)(n,e))}function Oo(){this.textContent=""}function Ro(t){return function(){this.textContent=t}}function Lo(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function qo(t){return arguments.length?this.each(t==null?Oo:(typeof t=="function"?Lo:Ro)(t)):this.node().textContent}function Bo(){this.innerHTML=""}function Ho(t){return function(){this.innerHTML=t}}function Vo(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Fo(t){return arguments.length?this.each(t==null?Bo:(typeof t=="function"?Vo:Ho)(t)):this.node().innerHTML}function Uo(){this.nextSibling&&this.parentNode.appendChild(this)}function Go(){return this.each(Uo)}function Xo(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Wo(){return this.each(Xo)}function Qo(t){var e=typeof t=="function"?t:si(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Yo(){return null}function jo(t,e){var n=typeof t=="function"?t:si(t),r=e==null?Yo:typeof e=="function"?e:Hn(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Ko(){var t=this.parentNode;t&&t.removeChild(this)}function Zo(){return this.each(Ko)}function Jo(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function tu(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function eu(t){return this.select(t?tu:Jo)}function nu(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ru(t){return function(e){t.call(this,e,this.__data__)}}function iu(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function su(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,s=e.length,a;n<s;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function au(t,e,n){return function(){var r=this.__on,s,a=ru(e);if(r){for(var i=0,u=r.length;i<u;++i)if((s=r[i]).type===t.type&&s.name===t.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=a,s.options=n),s.value=e;return}}this.addEventListener(t.type,a,n),s={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(s):this.__on=[s]}}function ou(t,e,n){var r=iu(t+""),s,a=r.length,i;if(arguments.length<2){var u=this.node().__on;if(u){for(var o=0,l=u.length,f;o<l;++o)for(s=0,f=u[o];s<a;++s)if((i=r[s]).type===f.type&&i.name===f.name)return f.value}return}for(u=e?au:su,s=0;s<a;++s)this.each(u(r[s],e,n));return this}function gi(t,e,n){var r=fi(t),s=r.CustomEvent;typeof s=="function"?s=new s(e,n):(s=r.document.createEvent("Event"),n?(s.initEvent(e,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(e,!1,!1)),t.dispatchEvent(s)}function uu(t,e){return function(){return gi(this,t,e)}}function lu(t,e){return function(){return gi(this,t,e.apply(this,arguments))}}function fu(t,e){return this.each((typeof e=="function"?lu:uu)(t,e))}function*cu(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,a=r.length,i;s<a;++s)(i=r[s])&&(yield i)}var mi=[null];function xt(t,e){this._groups=t,this._parents=e}function Se(){return new xt([[document.documentElement]],mi)}function hu(){return this}xt.prototype=Se.prototype={constructor:xt,select:Ra,selectAll:Ha,selectChild:Ga,selectChildren:Ya,filter:ja,data:no,enter:Ka,exit:io,join:so,merge:ao,selection:hu,order:oo,sort:uo,call:fo,nodes:co,node:ho,size:po,empty:go,each:mo,attr:xo,style:Po,property:zo,classed:Do,text:qo,html:Fo,raise:Go,lower:Wo,append:Qo,insert:jo,remove:Zo,clone:eu,datum:nu,on:ou,dispatch:fu,[Symbol.iterator]:cu};function Mt(t){return typeof t=="string"?new xt([[document.querySelector(t)]],[document.documentElement]):new xt([[t]],mi)}function du(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Bt(t,e){if(t=du(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}}return[t.pageX,t.pageY]}const pu={passive:!1},xe={capture:!0,passive:!1};function yn(t){t.stopImmediatePropagation()}function le(t){t.preventDefault(),t.stopImmediatePropagation()}function _i(t){var e=t.document.documentElement,n=Mt(t).on("dragstart.drag",le,xe);"onselectstart"in e?n.on("selectstart.drag",le,xe):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function vi(t,e){var n=t.document.documentElement,r=Mt(t).on("dragstart.drag",null);e&&(r.on("click.drag",le,xe),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const qe=t=>()=>t;function En(t,{sourceEvent:e,subject:n,target:r,identifier:s,active:a,x:i,y:u,dx:o,dy:l,dispatch:f}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:o,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:f}})}En.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function gu(t){return!t.ctrlKey&&!t.button}function mu(){return this.parentNode}function _u(t,e){return e??{x:t.x,y:t.y}}function vu(){return navigator.maxTouchPoints||"ontouchstart"in this}function yu(){var t=gu,e=mu,n=_u,r=vu,s={},a=on("start","drag","end"),i=0,u,o,l,f,h=0;function p(y){y.on("mousedown.drag",m).filter(r).on("touchstart.drag",A).on("touchmove.drag",$,pu).on("touchend.drag touchcancel.drag",D).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(y,N){if(!(f||!t.call(this,y,N))){var R=q(this,e.call(this,y,N),y,N,"mouse");R&&(Mt(y.view).on("mousemove.drag",x,xe).on("mouseup.drag",w,xe),_i(y.view),yn(y),l=!1,u=y.clientX,o=y.clientY,R("start",y))}}function x(y){if(le(y),!l){var N=y.clientX-u,R=y.clientY-o;l=N*N+R*R>h}s.mouse("drag",y)}function w(y){Mt(y.view).on("mousemove.drag mouseup.drag",null),vi(y.view,l),le(y),s.mouse("end",y)}function A(y,N){if(t.call(this,y,N)){var R=y.changedTouches,H=e.call(this,y,N),K=R.length,j,G;for(j=0;j<K;++j)(G=q(this,H,y,N,R[j].identifier,R[j]))&&(yn(y),G("start",y,R[j]))}}function $(y){var N=y.changedTouches,R=N.length,H,K;for(H=0;H<R;++H)(K=s[N[H].identifier])&&(le(y),K("drag",y,N[H]))}function D(y){var N=y.changedTouches,R=N.length,H,K;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),H=0;H<R;++H)(K=s[N[H].identifier])&&(yn(y),K("end",y,N[H]))}function q(y,N,R,H,K,j){var G=a.copy(),S=Bt(j||R,N),E,F,g;if((g=n.call(y,new En("beforestart",{sourceEvent:R,target:p,identifier:K,active:i,x:S[0],y:S[1],dx:0,dy:0,dispatch:G}),H))!=null)return E=g.x-S[0]||0,F=g.y-S[1]||0,function b(_,T,z){var O=S,B;switch(_){case"start":s[K]=b,B=i++;break;case"end":delete s[K],--i;case"drag":S=Bt(z||T,N),B=i;break}G.call(_,y,new En(_,{sourceEvent:T,subject:g,target:p,identifier:K,active:B,x:S[0]+E,y:S[1]+F,dx:S[0]-O[0],dy:S[1]-O[1],dispatch:G}),H)}}return p.filter=function(y){return arguments.length?(t=typeof y=="function"?y:qe(!!y),p):t},p.container=function(y){return arguments.length?(e=typeof y=="function"?y:qe(y),p):e},p.subject=function(y){return arguments.length?(n=typeof y=="function"?y:qe(y),p):n},p.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:qe(!!y),p):r},p.on=function(){var y=a.on.apply(a,arguments);return y===a?p:y},p.clickDistance=function(y){return arguments.length?(h=(y=+y)*y,p):Math.sqrt(h)},p}function Fn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function yi(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ke(){}var Ee=.7,Ze=1/Ee,fe="\\s*([+-]?\\d+)\\s*",Te="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Dt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wu=/^#([0-9a-f]{3,8})$/,bu=new RegExp(`^rgb\\(${fe},${fe},${fe}\\)$`),$u=new RegExp(`^rgb\\(${Dt},${Dt},${Dt}\\)$`),xu=new RegExp(`^rgba\\(${fe},${fe},${fe},${Te}\\)$`),Eu=new RegExp(`^rgba\\(${Dt},${Dt},${Dt},${Te}\\)$`),Tu=new RegExp(`^hsl\\(${Te},${Dt},${Dt}\\)$`),Au=new RegExp(`^hsla\\(${Te},${Dt},${Dt},${Te}\\)$`),br={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Fn(ke,Ae,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:$r,formatHex:$r,formatHex8:Pu,formatHsl:Su,formatRgb:xr,toString:xr});function $r(){return this.rgb().formatHex()}function Pu(){return this.rgb().formatHex8()}function Su(){return wi(this).formatHsl()}function xr(){return this.rgb().formatRgb()}function Ae(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=wu.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Er(e):n===3?new vt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Be(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Be(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=bu.exec(t))?new vt(e[1],e[2],e[3],1):(e=$u.exec(t))?new vt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=xu.exec(t))?Be(e[1],e[2],e[3],e[4]):(e=Eu.exec(t))?Be(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Tu.exec(t))?Pr(e[1],e[2]/100,e[3]/100,1):(e=Au.exec(t))?Pr(e[1],e[2]/100,e[3]/100,e[4]):br.hasOwnProperty(t)?Er(br[t]):t==="transparent"?new vt(NaN,NaN,NaN,0):null}function Er(t){return new vt(t>>16&255,t>>8&255,t&255,1)}function Be(t,e,n,r){return r<=0&&(t=e=n=NaN),new vt(t,e,n,r)}function ku(t){return t instanceof ke||(t=Ae(t)),t?(t=t.rgb(),new vt(t.r,t.g,t.b,t.opacity)):new vt}function Tn(t,e,n,r){return arguments.length===1?ku(t):new vt(t,e,n,r??1)}function vt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Fn(vt,Tn,yi(ke,{brighter(t){return t=t==null?Ze:Math.pow(Ze,t),new vt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ee:Math.pow(Ee,t),new vt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new vt(ie(this.r),ie(this.g),ie(this.b),Je(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Tr,formatHex:Tr,formatHex8:Cu,formatRgb:Ar,toString:Ar}));function Tr(){return`#${re(this.r)}${re(this.g)}${re(this.b)}`}function Cu(){return`#${re(this.r)}${re(this.g)}${re(this.b)}${re((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ar(){const t=Je(this.opacity);return`${t===1?"rgb(":"rgba("}${ie(this.r)}, ${ie(this.g)}, ${ie(this.b)}${t===1?")":`, ${t})`}`}function Je(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ie(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function re(t){return t=ie(t),(t<16?"0":"")+t.toString(16)}function Pr(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ct(t,e,n,r)}function wi(t){if(t instanceof Ct)return new Ct(t.h,t.s,t.l,t.opacity);if(t instanceof ke||(t=Ae(t)),!t)return new Ct;if(t instanceof Ct)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,s=Math.min(e,n,r),a=Math.max(e,n,r),i=NaN,u=a-s,o=(a+s)/2;return u?(e===a?i=(n-r)/u+(n<r)*6:n===a?i=(r-e)/u+2:i=(e-n)/u+4,u/=o<.5?a+s:2-a-s,i*=60):u=o>0&&o<1?0:i,new Ct(i,u,o,t.opacity)}function zu(t,e,n,r){return arguments.length===1?wi(t):new Ct(t,e,n,r??1)}function Ct(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Fn(Ct,zu,yi(ke,{brighter(t){return t=t==null?Ze:Math.pow(Ze,t),new Ct(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ee:Math.pow(Ee,t),new Ct(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,s=2*n-r;return new vt(wn(t>=240?t-240:t+120,s,r),wn(t,s,r),wn(t<120?t+240:t-120,s,r),this.opacity)},clamp(){return new Ct(Sr(this.h),He(this.s),He(this.l),Je(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Je(this.opacity);return`${t===1?"hsl(":"hsla("}${Sr(this.h)}, ${He(this.s)*100}%, ${He(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Sr(t){return t=(t||0)%360,t<0?t+360:t}function He(t){return Math.max(0,Math.min(1,t||0))}function wn(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const bi=t=>()=>t;function Iu(t,e){return function(n){return t+n*e}}function Nu(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Mu(t){return(t=+t)==1?$i:function(e,n){return n-e?Nu(e,n,t):bi(isNaN(e)?n:e)}}function $i(t,e){var n=e-t;return n?Iu(t,n):bi(isNaN(t)?e:t)}const kr=function t(e){var n=Mu(e);function r(s,a){var i=n((s=Tn(s)).r,(a=Tn(a)).r),u=n(s.g,a.g),o=n(s.b,a.b),l=$i(s.opacity,a.opacity);return function(f){return s.r=i(f),s.g=u(f),s.b=o(f),s.opacity=l(f),s+""}}return r.gamma=t,r}(1);function Xt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var An=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bn=new RegExp(An.source,"g");function Du(t){return function(){return t}}function Ou(t){return function(e){return t(e)+""}}function Ru(t,e){var n=An.lastIndex=bn.lastIndex=0,r,s,a,i=-1,u=[],o=[];for(t=t+"",e=e+"";(r=An.exec(t))&&(s=bn.exec(e));)(a=s.index)>n&&(a=e.slice(n,a),u[i]?u[i]+=a:u[++i]=a),(r=r[0])===(s=s[0])?u[i]?u[i]+=s:u[++i]=s:(u[++i]=null,o.push({i,x:Xt(r,s)})),n=bn.lastIndex;return n<e.length&&(a=e.slice(n),u[i]?u[i]+=a:u[++i]=a),u.length<2?o[0]?Ou(o[0].x):Du(e):(e=o.length,function(l){for(var f=0,h;f<e;++f)u[(h=o[f]).i]=h.x(l);return u.join("")})}var Cr=180/Math.PI,Pn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function xi(t,e,n,r,s,a){var i,u,o;return(i=Math.sqrt(t*t+e*e))&&(t/=i,e/=i),(o=t*n+e*r)&&(n-=t*o,r-=e*o),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,o/=u),t*r<e*n&&(t=-t,e=-e,o=-o,i=-i),{translateX:s,translateY:a,rotate:Math.atan2(e,t)*Cr,skewX:Math.atan(o)*Cr,scaleX:i,scaleY:u}}var Ve;function Lu(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Pn:xi(e.a,e.b,e.c,e.d,e.e,e.f)}function qu(t){return t==null||(Ve||(Ve=document.createElementNS("http://www.w3.org/2000/svg","g")),Ve.setAttribute("transform",t),!(t=Ve.transform.baseVal.consolidate()))?Pn:(t=t.matrix,xi(t.a,t.b,t.c,t.d,t.e,t.f))}function Ei(t,e,n,r){function s(l){return l.length?l.pop()+" ":""}function a(l,f,h,p,m,x){if(l!==h||f!==p){var w=m.push("translate(",null,e,null,n);x.push({i:w-4,x:Xt(l,h)},{i:w-2,x:Xt(f,p)})}else(h||p)&&m.push("translate("+h+e+p+n)}function i(l,f,h,p){l!==f?(l-f>180?f+=360:f-l>180&&(l+=360),p.push({i:h.push(s(h)+"rotate(",null,r)-2,x:Xt(l,f)})):f&&h.push(s(h)+"rotate("+f+r)}function u(l,f,h,p){l!==f?p.push({i:h.push(s(h)+"skewX(",null,r)-2,x:Xt(l,f)}):f&&h.push(s(h)+"skewX("+f+r)}function o(l,f,h,p,m,x){if(l!==h||f!==p){var w=m.push(s(m)+"scale(",null,",",null,")");x.push({i:w-4,x:Xt(l,h)},{i:w-2,x:Xt(f,p)})}else(h!==1||p!==1)&&m.push(s(m)+"scale("+h+","+p+")")}return function(l,f){var h=[],p=[];return l=t(l),f=t(f),a(l.translateX,l.translateY,f.translateX,f.translateY,h,p),i(l.rotate,f.rotate,h,p),u(l.skewX,f.skewX,h,p),o(l.scaleX,l.scaleY,f.scaleX,f.scaleY,h,p),l=f=null,function(m){for(var x=-1,w=p.length,A;++x<w;)h[(A=p[x]).i]=A.x(m);return h.join("")}}}var Bu=Ei(Lu,"px, ","px)","deg)"),Hu=Ei(qu,", ",")",")"),Vu=1e-12;function zr(t){return((t=Math.exp(t))+1/t)/2}function Fu(t){return((t=Math.exp(t))-1/t)/2}function Uu(t){return((t=Math.exp(2*t))-1)/(t+1)}const Gu=function t(e,n,r){function s(a,i){var u=a[0],o=a[1],l=a[2],f=i[0],h=i[1],p=i[2],m=f-u,x=h-o,w=m*m+x*x,A,$;if(w<Vu)$=Math.log(p/l)/e,A=function(H){return[u+H*m,o+H*x,l*Math.exp(e*H*$)]};else{var D=Math.sqrt(w),q=(p*p-l*l+r*w)/(2*l*n*D),y=(p*p-l*l-r*w)/(2*p*n*D),N=Math.log(Math.sqrt(q*q+1)-q),R=Math.log(Math.sqrt(y*y+1)-y);$=(R-N)/e,A=function(H){var K=H*$,j=zr(N),G=l/(n*D)*(j*Uu(e*K+N)-Fu(N));return[u+G*m,o+G*x,l*j/zr(e*K+N)]}}return A.duration=$*1e3*e/Math.SQRT2,A}return s.rho=function(a){var i=Math.max(.001,+a),u=i*i,o=u*u;return t(i,u,o)},s}(Math.SQRT2,2,4);var he=0,ye=0,_e=0,Ti=1e3,tn,we,en=0,se=0,ln=0,Pe=typeof performance=="object"&&performance.now?performance:Date,Ai=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Un(){return se||(Ai(Xu),se=Pe.now()+ln)}function Xu(){se=0}function nn(){this._call=this._time=this._next=null}nn.prototype=Pi.prototype={constructor:nn,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Un():+n)+(e==null?0:+e),!this._next&&we!==this&&(we?we._next=this:tn=this,we=this),this._call=t,this._time=n,Sn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Sn())}};function Pi(t,e,n){var r=new nn;return r.restart(t,e,n),r}function Wu(){Un(),++he;for(var t=tn,e;t;)(e=se-t._time)>=0&&t._call.call(void 0,e),t=t._next;--he}function Ir(){se=(en=Pe.now())+ln,he=ye=0;try{Wu()}finally{he=0,Yu(),se=0}}function Qu(){var t=Pe.now(),e=t-en;e>Ti&&(ln-=e,en=t)}function Yu(){for(var t,e=tn,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:tn=n);we=t,Sn(r)}function Sn(t){if(!he){ye&&(ye=clearTimeout(ye));var e=t-se;e>24?(t<1/0&&(ye=setTimeout(Ir,t-Pe.now()-ln)),_e&&(_e=clearInterval(_e))):(_e||(en=Pe.now(),_e=setInterval(Qu,Ti)),he=1,Ai(Ir))}}function Nr(t,e,n){var r=new nn;return e=e==null?0:+e,r.restart(s=>{r.stop(),t(s+e)},e,n),r}var ju=on("start","end","cancel","interrupt"),Ku=[],Si=0,Mr=1,kn=2,Xe=3,Dr=4,Cn=5,We=6;function fn(t,e,n,r,s,a){var i=t.__transition;if(!i)t.__transition={};else if(n in i)return;Zu(t,n,{name:e,index:r,group:s,on:ju,tween:Ku,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Si})}function Gn(t,e){var n=zt(t,e);if(n.state>Si)throw new Error("too late; already scheduled");return n}function Ot(t,e){var n=zt(t,e);if(n.state>Xe)throw new Error("too late; already running");return n}function zt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Zu(t,e,n){var r=t.__transition,s;r[e]=n,n.timer=Pi(a,0,n.time);function a(l){n.state=Mr,n.timer.restart(i,n.delay,n.time),n.delay<=l&&i(l-n.delay)}function i(l){var f,h,p,m;if(n.state!==Mr)return o();for(f in r)if(m=r[f],m.name===n.name){if(m.state===Xe)return Nr(i);m.state===Dr?(m.state=We,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete r[f]):+f<e&&(m.state=We,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete r[f])}if(Nr(function(){n.state===Xe&&(n.state=Dr,n.timer.restart(u,n.delay,n.time),u(l))}),n.state=kn,n.on.call("start",t,t.__data__,n.index,n.group),n.state===kn){for(n.state=Xe,s=new Array(p=n.tween.length),f=0,h=-1;f<p;++f)(m=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(s[++h]=m);s.length=h+1}}function u(l){for(var f=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(o),n.state=Cn,1),h=-1,p=s.length;++h<p;)s[h].call(t,f);n.state===Cn&&(n.on.call("end",t,t.__data__,n.index,n.group),o())}function o(){n.state=We,n.timer.stop(),delete r[e];for(var l in r)return;delete t.__transition}}function Qe(t,e){var n=t.__transition,r,s,a=!0,i;if(n){e=e==null?null:e+"";for(i in n){if((r=n[i]).name!==e){a=!1;continue}s=r.state>kn&&r.state<Cn,r.state=We,r.timer.stop(),r.on.call(s?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[i]}a&&delete t.__transition}}function Ju(t){return this.each(function(){Qe(this,t)})}function tl(t,e){var n,r;return function(){var s=Ot(this,t),a=s.tween;if(a!==n){r=n=a;for(var i=0,u=r.length;i<u;++i)if(r[i].name===e){r=r.slice(),r.splice(i,1);break}}s.tween=r}}function el(t,e,n){var r,s;if(typeof n!="function")throw new Error;return function(){var a=Ot(this,t),i=a.tween;if(i!==r){s=(r=i).slice();for(var u={name:e,value:n},o=0,l=s.length;o<l;++o)if(s[o].name===e){s[o]=u;break}o===l&&s.push(u)}a.tween=s}}function nl(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=zt(this.node(),n).tween,s=0,a=r.length,i;s<a;++s)if((i=r[s]).name===t)return i.value;return null}return this.each((e==null?tl:el)(n,t,e))}function Xn(t,e,n){var r=t._id;return t.each(function(){var s=Ot(this,r);(s.value||(s.value={}))[e]=n.apply(this,arguments)}),function(s){return zt(s,r).value[e]}}function ki(t,e){var n;return(typeof e=="number"?Xt:e instanceof Ae?kr:(n=Ae(e))?(e=n,kr):Ru)(t,e)}function rl(t){return function(){this.removeAttribute(t)}}function il(t){return function(){this.removeAttributeNS(t.space,t.local)}}function sl(t,e,n){var r,s=n+"",a;return function(){var i=this.getAttribute(t);return i===s?null:i===r?a:a=e(r=i,n)}}function al(t,e,n){var r,s=n+"",a;return function(){var i=this.getAttributeNS(t.space,t.local);return i===s?null:i===r?a:a=e(r=i,n)}}function ol(t,e,n){var r,s,a;return function(){var i,u=n(this),o;return u==null?void this.removeAttribute(t):(i=this.getAttribute(t),o=u+"",i===o?null:i===r&&o===s?a:(s=o,a=e(r=i,u)))}}function ul(t,e,n){var r,s,a;return function(){var i,u=n(this),o;return u==null?void this.removeAttributeNS(t.space,t.local):(i=this.getAttributeNS(t.space,t.local),o=u+"",i===o?null:i===r&&o===s?a:(s=o,a=e(r=i,u)))}}function ll(t,e){var n=un(t),r=n==="transform"?Hu:ki;return this.attrTween(t,typeof e=="function"?(n.local?ul:ol)(n,r,Xn(this,"attr."+t,e)):e==null?(n.local?il:rl)(n):(n.local?al:sl)(n,r,e))}function fl(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function cl(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function hl(t,e){var n,r;function s(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&cl(t,a)),n}return s._value=e,s}function dl(t,e){var n,r;function s(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&fl(t,a)),n}return s._value=e,s}function pl(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=un(t);return this.tween(n,(r.local?hl:dl)(r,e))}function gl(t,e){return function(){Gn(this,t).delay=+e.apply(this,arguments)}}function ml(t,e){return e=+e,function(){Gn(this,t).delay=e}}function _l(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?gl:ml)(e,t)):zt(this.node(),e).delay}function vl(t,e){return function(){Ot(this,t).duration=+e.apply(this,arguments)}}function yl(t,e){return e=+e,function(){Ot(this,t).duration=e}}function wl(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?vl:yl)(e,t)):zt(this.node(),e).duration}function bl(t,e){if(typeof e!="function")throw new Error;return function(){Ot(this,t).ease=e}}function $l(t){var e=this._id;return arguments.length?this.each(bl(e,t)):zt(this.node(),e).ease}function xl(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ot(this,t).ease=n}}function El(t){if(typeof t!="function")throw new Error;return this.each(xl(this._id,t))}function Tl(t){typeof t!="function"&&(t=oi(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var a=e[s],i=a.length,u=r[s]=[],o,l=0;l<i;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new Vt(r,this._parents,this._name,this._id)}function Al(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,s=n.length,a=Math.min(r,s),i=new Array(r),u=0;u<a;++u)for(var o=e[u],l=n[u],f=o.length,h=i[u]=new Array(f),p,m=0;m<f;++m)(p=o[m]||l[m])&&(h[m]=p);for(;u<r;++u)i[u]=e[u];return new Vt(i,this._parents,this._name,this._id)}function Pl(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Sl(t,e,n){var r,s,a=Pl(e)?Gn:Ot;return function(){var i=a(this,t),u=i.on;u!==r&&(s=(r=u).copy()).on(e,n),i.on=s}}function kl(t,e){var n=this._id;return arguments.length<2?zt(this.node(),n).on.on(t):this.each(Sl(n,t,e))}function Cl(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function zl(){return this.on("end.remove",Cl(this._id))}function Il(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Hn(t));for(var r=this._groups,s=r.length,a=new Array(s),i=0;i<s;++i)for(var u=r[i],o=u.length,l=a[i]=new Array(o),f,h,p=0;p<o;++p)(f=u[p])&&(h=t.call(f,f.__data__,p,u))&&("__data__"in f&&(h.__data__=f.__data__),l[p]=h,fn(l[p],e,n,p,l,zt(f,n)));return new Vt(a,this._parents,e,n)}function Nl(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ai(t));for(var r=this._groups,s=r.length,a=[],i=[],u=0;u<s;++u)for(var o=r[u],l=o.length,f,h=0;h<l;++h)if(f=o[h]){for(var p=t.call(f,f.__data__,h,o),m,x=zt(f,n),w=0,A=p.length;w<A;++w)(m=p[w])&&fn(m,e,n,w,p,x);a.push(p),i.push(f)}return new Vt(a,i,e,n)}var Ml=Se.prototype.constructor;function Dl(){return new Ml(this._groups,this._parents)}function Ol(t,e){var n,r,s;return function(){var a=ce(this,t),i=(this.style.removeProperty(t),ce(this,t));return a===i?null:a===n&&i===r?s:s=e(n=a,r=i)}}function Ci(t){return function(){this.style.removeProperty(t)}}function Rl(t,e,n){var r,s=n+"",a;return function(){var i=ce(this,t);return i===s?null:i===r?a:a=e(r=i,n)}}function Ll(t,e,n){var r,s,a;return function(){var i=ce(this,t),u=n(this),o=u+"";return u==null&&(o=u=(this.style.removeProperty(t),ce(this,t))),i===o?null:i===r&&o===s?a:(s=o,a=e(r=i,u))}}function ql(t,e){var n,r,s,a="style."+e,i="end."+a,u;return function(){var o=Ot(this,t),l=o.on,f=o.value[a]==null?u||(u=Ci(e)):void 0;(l!==n||s!==f)&&(r=(n=l).copy()).on(i,s=f),o.on=r}}function Bl(t,e,n){var r=(t+="")=="transform"?Bu:ki;return e==null?this.styleTween(t,Ol(t,r)).on("end.style."+t,Ci(t)):typeof e=="function"?this.styleTween(t,Ll(t,r,Xn(this,"style."+t,e))).each(ql(this._id,t)):this.styleTween(t,Rl(t,r,e),n).on("end.style."+t,null)}function Hl(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Vl(t,e,n){var r,s;function a(){var i=e.apply(this,arguments);return i!==s&&(r=(s=i)&&Hl(t,i,n)),r}return a._value=e,a}function Fl(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Vl(t,e,n??""))}function Ul(t){return function(){this.textContent=t}}function Gl(t){return function(){var e=t(this);this.textContent=e??""}}function Xl(t){return this.tween("text",typeof t=="function"?Gl(Xn(this,"text",t)):Ul(t==null?"":t+""))}function Wl(t){return function(e){this.textContent=t.call(this,e)}}function Ql(t){var e,n;function r(){var s=t.apply(this,arguments);return s!==n&&(e=(n=s)&&Wl(s)),e}return r._value=t,r}function Yl(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Ql(t))}function jl(){for(var t=this._name,e=this._id,n=zi(),r=this._groups,s=r.length,a=0;a<s;++a)for(var i=r[a],u=i.length,o,l=0;l<u;++l)if(o=i[l]){var f=zt(o,e);fn(o,t,n,l,i,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Vt(r,this._parents,t,n)}function Kl(){var t,e,n=this,r=n._id,s=n.size();return new Promise(function(a,i){var u={value:i},o={value:function(){--s===0&&a()}};n.each(function(){var l=Ot(this,r),f=l.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(u),e._.interrupt.push(u),e._.end.push(o)),l.on=e}),s===0&&a()})}var Zl=0;function Vt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function zi(){return++Zl}var qt=Se.prototype;Vt.prototype={constructor:Vt,select:Il,selectAll:Nl,selectChild:qt.selectChild,selectChildren:qt.selectChildren,filter:Tl,merge:Al,selection:Dl,transition:jl,call:qt.call,nodes:qt.nodes,node:qt.node,size:qt.size,empty:qt.empty,each:qt.each,on:kl,attr:ll,attrTween:pl,style:Bl,styleTween:Fl,text:Xl,textTween:Yl,remove:zl,tween:nl,delay:_l,duration:wl,ease:$l,easeVarying:El,end:Kl,[Symbol.iterator]:qt[Symbol.iterator]};function Jl(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var tf={time:null,delay:0,duration:250,ease:Jl};function ef(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function nf(t){var e,n;t instanceof Vt?(e=t._id,t=t._name):(e=zi(),(n=tf).time=Un(),t=t==null?null:t+"");for(var r=this._groups,s=r.length,a=0;a<s;++a)for(var i=r[a],u=i.length,o,l=0;l<u;++l)(o=i[l])&&fn(o,t,e,l,i,n||ef(o,e));return new Vt(r,this._parents,t,e)}Se.prototype.interrupt=Ju;Se.prototype.transition=nf;const Fe=t=>()=>t;function rf(t,{sourceEvent:e,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function Ht(t,e,n){this.k=t,this.x=e,this.y=n}Ht.prototype={constructor:Ht,scale:function(t){return t===1?this:new Ht(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ht(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Wn=new Ht(1,0,0);zn.prototype=Ht.prototype;function zn(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Wn;return t.__zoom}function $n(t){t.stopImmediatePropagation()}function ve(t){t.preventDefault(),t.stopImmediatePropagation()}function sf(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function af(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Or(){return this.__zoom||Wn}function of(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function uf(){return navigator.maxTouchPoints||"ontouchstart"in this}function lf(t,e,n){var r=t.invertX(e[0][0])-n[0][0],s=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],i=t.invertY(e[1][1])-n[1][1];return t.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),i>a?(a+i)/2:Math.min(0,a)||Math.max(0,i))}function ff(){var t=sf,e=af,n=lf,r=of,s=uf,a=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],u=250,o=Gu,l=on("start","zoom","end"),f,h,p,m=500,x=150,w=0,A=10;function $(g){g.property("__zoom",Or).on("wheel.zoom",K,{passive:!1}).on("mousedown.zoom",j).on("dblclick.zoom",G).filter(s).on("touchstart.zoom",S).on("touchmove.zoom",E).on("touchend.zoom touchcancel.zoom",F).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}$.transform=function(g,b,_,T){var z=g.selection?g.selection():g;z.property("__zoom",Or),g!==z?N(g,b,_,T):z.interrupt().each(function(){R(this,arguments).event(T).start().zoom(null,typeof b=="function"?b.apply(this,arguments):b).end()})},$.scaleBy=function(g,b,_,T){$.scaleTo(g,function(){var z=this.__zoom.k,O=typeof b=="function"?b.apply(this,arguments):b;return z*O},_,T)},$.scaleTo=function(g,b,_,T){$.transform(g,function(){var z=e.apply(this,arguments),O=this.__zoom,B=_==null?y(z):typeof _=="function"?_.apply(this,arguments):_,M=O.invert(B),st=typeof b=="function"?b.apply(this,arguments):b;return n(q(D(O,st),B,M),z,i)},_,T)},$.translateBy=function(g,b,_,T){$.transform(g,function(){return n(this.__zoom.translate(typeof b=="function"?b.apply(this,arguments):b,typeof _=="function"?_.apply(this,arguments):_),e.apply(this,arguments),i)},null,T)},$.translateTo=function(g,b,_,T,z){$.transform(g,function(){var O=e.apply(this,arguments),B=this.__zoom,M=T==null?y(O):typeof T=="function"?T.apply(this,arguments):T;return n(Wn.translate(M[0],M[1]).scale(B.k).translate(typeof b=="function"?-b.apply(this,arguments):-b,typeof _=="function"?-_.apply(this,arguments):-_),O,i)},T,z)};function D(g,b){return b=Math.max(a[0],Math.min(a[1],b)),b===g.k?g:new Ht(b,g.x,g.y)}function q(g,b,_){var T=b[0]-_[0]*g.k,z=b[1]-_[1]*g.k;return T===g.x&&z===g.y?g:new Ht(g.k,T,z)}function y(g){return[(+g[0][0]+ +g[1][0])/2,(+g[0][1]+ +g[1][1])/2]}function N(g,b,_,T){g.on("start.zoom",function(){R(this,arguments).event(T).start()}).on("interrupt.zoom end.zoom",function(){R(this,arguments).event(T).end()}).tween("zoom",function(){var z=this,O=arguments,B=R(z,O).event(T),M=e.apply(z,O),st=_==null?y(M):typeof _=="function"?_.apply(z,O):_,Et=Math.max(M[1][0]-M[0][0],M[1][1]-M[0][1]),lt=z.__zoom,Y=typeof b=="function"?b.apply(z,O):b,Tt=o(lt.invert(st).concat(Et/lt.k),Y.invert(st).concat(Et/Y.k));return function(bt){if(bt===1)bt=Y;else{var ft=Tt(bt),ae=Et/ft[2];bt=new Ht(ae,st[0]-ft[0]*ae,st[1]-ft[1]*ae)}B.zoom(null,bt)}})}function R(g,b,_){return!_&&g.__zooming||new H(g,b)}function H(g,b){this.that=g,this.args=b,this.active=0,this.sourceEvent=null,this.extent=e.apply(g,b),this.taps=0}H.prototype={event:function(g){return g&&(this.sourceEvent=g),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(g,b){return this.mouse&&g!=="mouse"&&(this.mouse[1]=b.invert(this.mouse[0])),this.touch0&&g!=="touch"&&(this.touch0[1]=b.invert(this.touch0[0])),this.touch1&&g!=="touch"&&(this.touch1[1]=b.invert(this.touch1[0])),this.that.__zoom=b,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(g){var b=Mt(this.that).datum();l.call(g,this.that,new rf(g,{sourceEvent:this.sourceEvent,target:$,type:g,transform:this.that.__zoom,dispatch:l}),b)}};function K(g,...b){if(!t.apply(this,arguments))return;var _=R(this,b).event(g),T=this.__zoom,z=Math.max(a[0],Math.min(a[1],T.k*Math.pow(2,r.apply(this,arguments)))),O=Bt(g);if(_.wheel)(_.mouse[0][0]!==O[0]||_.mouse[0][1]!==O[1])&&(_.mouse[1]=T.invert(_.mouse[0]=O)),clearTimeout(_.wheel);else{if(T.k===z)return;_.mouse=[O,T.invert(O)],Qe(this),_.start()}ve(g),_.wheel=setTimeout(B,x),_.zoom("mouse",n(q(D(T,z),_.mouse[0],_.mouse[1]),_.extent,i));function B(){_.wheel=null,_.end()}}function j(g,...b){if(p||!t.apply(this,arguments))return;var _=g.currentTarget,T=R(this,b,!0).event(g),z=Mt(g.view).on("mousemove.zoom",st,!0).on("mouseup.zoom",Et,!0),O=Bt(g,_),B=g.clientX,M=g.clientY;_i(g.view),$n(g),T.mouse=[O,this.__zoom.invert(O)],Qe(this),T.start();function st(lt){if(ve(lt),!T.moved){var Y=lt.clientX-B,Tt=lt.clientY-M;T.moved=Y*Y+Tt*Tt>w}T.event(lt).zoom("mouse",n(q(T.that.__zoom,T.mouse[0]=Bt(lt,_),T.mouse[1]),T.extent,i))}function Et(lt){z.on("mousemove.zoom mouseup.zoom",null),vi(lt.view,T.moved),ve(lt),T.event(lt).end()}}function G(g,...b){if(t.apply(this,arguments)){var _=this.__zoom,T=Bt(g.changedTouches?g.changedTouches[0]:g,this),z=_.invert(T),O=_.k*(g.shiftKey?.5:2),B=n(q(D(_,O),T,z),e.apply(this,b),i);ve(g),u>0?Mt(this).transition().duration(u).call(N,B,T,g):Mt(this).call($.transform,B,T,g)}}function S(g,...b){if(t.apply(this,arguments)){var _=g.touches,T=_.length,z=R(this,b,g.changedTouches.length===T).event(g),O,B,M,st;for($n(g),B=0;B<T;++B)M=_[B],st=Bt(M,this),st=[st,this.__zoom.invert(st),M.identifier],z.touch0?!z.touch1&&z.touch0[2]!==st[2]&&(z.touch1=st,z.taps=0):(z.touch0=st,O=!0,z.taps=1+!!f);f&&(f=clearTimeout(f)),O&&(z.taps<2&&(h=st[0],f=setTimeout(function(){f=null},m)),Qe(this),z.start())}}function E(g,...b){if(this.__zooming){var _=R(this,b).event(g),T=g.changedTouches,z=T.length,O,B,M,st;for(ve(g),O=0;O<z;++O)B=T[O],M=Bt(B,this),_.touch0&&_.touch0[2]===B.identifier?_.touch0[0]=M:_.touch1&&_.touch1[2]===B.identifier&&(_.touch1[0]=M);if(B=_.that.__zoom,_.touch1){var Et=_.touch0[0],lt=_.touch0[1],Y=_.touch1[0],Tt=_.touch1[1],bt=(bt=Y[0]-Et[0])*bt+(bt=Y[1]-Et[1])*bt,ft=(ft=Tt[0]-lt[0])*ft+(ft=Tt[1]-lt[1])*ft;B=D(B,Math.sqrt(bt/ft)),M=[(Et[0]+Y[0])/2,(Et[1]+Y[1])/2],st=[(lt[0]+Tt[0])/2,(lt[1]+Tt[1])/2]}else if(_.touch0)M=_.touch0[0],st=_.touch0[1];else return;_.zoom("touch",n(q(B,M,st),_.extent,i))}}function F(g,...b){if(this.__zooming){var _=R(this,b).event(g),T=g.changedTouches,z=T.length,O,B;for($n(g),p&&clearTimeout(p),p=setTimeout(function(){p=null},m),O=0;O<z;++O)B=T[O],_.touch0&&_.touch0[2]===B.identifier?delete _.touch0:_.touch1&&_.touch1[2]===B.identifier&&delete _.touch1;if(_.touch1&&!_.touch0&&(_.touch0=_.touch1,delete _.touch1),_.touch0)_.touch0[1]=this.__zoom.invert(_.touch0[0]);else if(_.end(),_.taps===2&&(B=Bt(B,this),Math.hypot(h[0]-B[0],h[1]-B[1])<A)){var M=Mt(this).on("dblclick.zoom");M&&M.apply(this,arguments)}}}return $.wheelDelta=function(g){return arguments.length?(r=typeof g=="function"?g:Fe(+g),$):r},$.filter=function(g){return arguments.length?(t=typeof g=="function"?g:Fe(!!g),$):t},$.touchable=function(g){return arguments.length?(s=typeof g=="function"?g:Fe(!!g),$):s},$.extent=function(g){return arguments.length?(e=typeof g=="function"?g:Fe([[+g[0][0],+g[0][1]],[+g[1][0],+g[1][1]]]),$):e},$.scaleExtent=function(g){return arguments.length?(a[0]=+g[0],a[1]=+g[1],$):[a[0],a[1]]},$.translateExtent=function(g){return arguments.length?(i[0][0]=+g[0][0],i[1][0]=+g[1][0],i[0][1]=+g[0][1],i[1][1]=+g[1][1],$):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},$.constrain=function(g){return arguments.length?(n=g,$):n},$.duration=function(g){return arguments.length?(u=+g,$):u},$.interpolate=function(g){return arguments.length?(o=g,$):o},$.on=function(){var g=l.on.apply(l,arguments);return g===l?$:g},$.clickDistance=function(g){return arguments.length?(w=(g=+g)*g,$):Math.sqrt(w)},$.tapDistance=function(g){return arguments.length?(A=+g,$):A},$}class rn{constructor(e,n){mt(this,"tooltip",St());mt(this,"isHover",St(!1));mt(this,"state",St("ok"));mt(this,"error",St());mt(this,"isDragging",St(!1));mt(this,"pointerPos",St({x:-1e12,y:-1e12}));mt(this,"resizeObserver");mt(this,"width",0);mt(this,"height",0);mt(this,"zoomBehavior",ff());mt(this,"graphEngine");mt(this,"d3Canvas");mt(this,"hoverNodeId");mt(this,"draggable",!0);this.canvas=e,this.graphEngine=n(this);let r={x:-1e12,y:-1e12};this.d3Canvas=Mt(this.canvas),this.zoomBehavior.on("zoom",f=>{this.graphEngine.onZoomTransform({x:f.transform.x,y:f.transform.y,k:f.transform.k})}).on("end",f=>{this.graphEngine.onZoomTransformEnd()});const s=()=>this.draggable?this.hoverNodeId:void 0,a=f=>{this.isDragging.set(!0);const h=f.subject;this.graphEngine.onDragStart(h,f.active)},i=f=>{const h=f.subject,[p,m]=zn(this.canvas).invert([f.x,f.y]);this.graphEngine.onDrag(h,{x:p,y:m})},u=f=>{const h=f.subject;this.isDragging.set(!1),this.graphEngine.onDragEnd(h)},o=yu().subject(s).on("start",a).on("drag",i).on("end",u);this.d3Canvas.call(o).call(this.zoomBehavior),this.resizeObserver=new ResizeObserver(()=>{this.adjustCanvasSize()}),this.resizeObserver.observe(e),this.adjustCanvasSize();const l=f=>{f.type==="pointerdown"&&this.graphEngine.onPointerDown();const h=e.getBoundingClientRect(),p=window.pageXOffset||document.documentElement.scrollLeft,m=window.pageYOffset||document.documentElement.scrollTop,x={top:h.top+m,left:h.left+p};r={x:f.pageX-x.left,y:f.pageY-x.top},this.pointerPos.set(r),this.graphEngine.setPointerPos(r)};e.addEventListener("pointermove",l,{passive:!0}),e.addEventListener("pointerdown",l,{passive:!0}),e.addEventListener("pointerup",f=>{this.graphEngine.onPointerUp(f.button)},{passive:!0})}static async create(e,n){if(!Boolean(HTMLCanvasElement.prototype.transferControlToOffscreen)){const{GraphEngine:i}=await mr(()=>import("./graph-engine-88a64a74.js"),[],import.meta.url),u=o=>new i(e,n,o);return new rn(e,u)}const{default:s}=await mr(()=>import("./graph-engine.worker-fe0567e0.js"),[],import.meta.url),a=i=>{const u=new s;u.addEventListener("message",f=>{const[h,...p]=f.data;i[h].bind(i)(...p)});const o=e.transferControlToOffscreen();return u.postMessage(["init",o,n],[o]),new Proxy({},{get(f,h,p){return(...m)=>{if(h==="destroy"){u.terminate();return}u.postMessage([h,...m])}}})};return new rn(e,a)}load(e,n){this.graphEngine.load(e,n)}setVisParameters(e){this.draggable=e.graphDirection==="none",this.graphEngine.setVisParameters(e)}destroy(){this.resizeObserver.unobserve(this.canvas),this.graphEngine.destroy()}setTooltip(e){this.tooltip.set(e)}setHoverNodeId(e){this.hoverNodeId=e,this.isHover.set(e!==void 0)}onNodeClicked(e){window.open(e,"_blank")}onLayoutComplete(e,n,r,s){const a=Math.max(1e-12,Math.min(1e12,this.canvas.width/r,this.canvas.height/s))/window.devicePixelRatio;this.zoomBehavior.translateTo(this.d3Canvas,e+r/2,n+s/2),this.zoomBehavior.scaleTo(this.d3Canvas,a),this.graphEngine.requestRedraw()}setState(e){this.state.set(e)}setError(e){this.error.set(e)}adjustCanvasSize(){const e=this.width,n=this.height;this.width=this.canvas.clientWidth,this.height=this.canvas.clientHeight,this.graphEngine.adjustCanvasSize(this.canvas.clientWidth,this.canvas.clientHeight,window.devicePixelRatio);const r=zn(this.canvas).k;this.zoomBehavior.translateBy(this.d3Canvas,(this.width-e)/2/r,(this.height-n)/2/r),this.graphEngine.requestRedraw()}}function Rr(t){let e,n,r;return n=new ra({props:{class:"w-16 h-16"}}),{c(){e=X("div"),Z(n.$$.fragment),this.h()},l(s){e=W(s,"DIV",{class:!0});var a=Q(e);J(n.$$.fragment,a),a.forEach(P),this.h()},h(){I(e,"class","absolute inset-0 flex items-center justify-center")},m(s,a){it(s,e,a),tt(n,e,null),r=!0},i(s){r||(L(n.$$.fragment,s),r=!0)},o(s){V(n.$$.fragment,s),r=!1},d(s){s&&P(e),et(n)}}}function Lr(t){let e,n,r,s,a,i,u,o,l,f,h;return r=new Wr({props:{path:ia,class:"w-16 h-16 fill-red-400"}}),{c(){e=X("div"),n=X("div"),Z(r.$$.fragment),s=nt(),a=X("div"),i=X("div"),u=ct("Unable to load graph data"),o=nt(),l=X("div"),f=ct(t[14]),this.h()},l(p){e=W(p,"DIV",{class:!0});var m=Q(e);n=W(m,"DIV",{class:!0,role:!0});var x=Q(n);J(r.$$.fragment,x),s=rt(x),a=W(x,"DIV",{class:!0});var w=Q(a);i=W(w,"DIV",{class:!0});var A=Q(i);u=ht(A,"Unable to load graph data"),A.forEach(P),o=rt(w),l=W(w,"DIV",{});var $=Q(l);f=ht($,t[14]),$.forEach(P),w.forEach(P),x.forEach(P),m.forEach(P),this.h()},h(){I(i,"class","font-medium"),I(a,"class","pl-4 space-y-3"),I(n,"class","flex p-4 mx-4 text-sm rounded bg-gray-800 text-red-400 items-center"),I(n,"role","alert"),I(e,"class","absolute inset-0 flex items-center justify-center ")},m(p,m){it(p,e,m),C(e,n),tt(r,n,null),C(n,s),C(n,a),C(a,i),C(i,u),C(a,o),C(a,l),C(l,f),h=!0},p(p,m){(!h||m&16384)&&an(f,p[14])},i(p){h||(L(r.$$.fragment,p),h=!0)},o(p){V(r.$$.fragment,p),h=!1},d(p){p&&P(e),et(r)}}}function cf(t){let e,n,r,s,a,i,u,o,l,f=t[13]==="loading"&&Rr(),h=t[13]==="error"&&Lr(t);return{c(){e=X("div"),n=X("canvas"),a=nt(),i=X("div"),u=nt(),f&&f.c(),o=nt(),h&&h.c(),this.h()},l(p){e=W(p,"DIV",{class:!0});var m=Q(e);n=W(m,"CANVAS",{class:!0}),Q(n).forEach(P),a=rt(m),i=W(m,"DIV",{class:!0,style:!0});var x=Q(i);x.forEach(P),u=rt(m),f&&f.l(m),o=rt(m),h&&h.l(m),m.forEach(P),this.h()},h(){I(n,"class",r="select-none w-full h-full "+(t[11]?"cursor-grabbing":t[12]?"cursor-pointer":"")),Us(()=>t[21].call(n)),I(i,"class","absolute p-1 rounded-sm text-gray-100 bg-black/60 text-center"),I(i,"style",t[10]),I(e,"class","h-full overflow-clip force-graph-container relative")},m(p,m){it(p,e,m),C(e,n),t[20](n),s=Gs(n,t[21].bind(n)),C(e,a),C(e,i),i.innerHTML=t[2],C(e,u),f&&f.m(e,null),C(e,o),h&&h.m(e,null),l=!0},p(p,[m]){(!l||m&6144&&r!==(r="select-none w-full h-full "+(p[11]?"cursor-grabbing":p[12]?"cursor-pointer":"")))&&I(n,"class",r),(!l||m&4)&&(i.innerHTML=p[2]),(!l||m&1024)&&I(i,"style",p[10]),p[13]==="loading"?f?m&8192&&L(f,1):(f=Rr(),f.c(),L(f,1),f.m(e,o)):f&&(be(),V(f,1,1,()=>{f=null}),$e()),p[13]==="error"?h?(h.p(p,m),m&8192&&L(h,1)):(h=Lr(p),h.c(),L(h,1),h.m(e,null)):h&&(be(),V(h,1,1,()=>{h=null}),$e())},i(p){l||(L(f),L(h),l=!0)},o(p){V(f),V(h),l=!1},d(p){p&&P(e),t[20](null),s(),f&&f.d(),h&&h.d()}}}function hf(t,e,n){let r,s,a=Nt,i=()=>(a(),a=ue(S,M=>n(19,s=M)),S),u,o=Nt,l=()=>(o(),o=ue(E,M=>n(2,u=M)),E),f,h=Nt,p=()=>(h(),h=ue(g,M=>n(11,f=M)),g),m,x=Nt,w=()=>(x(),x=ue(F,M=>n(12,m=M)),F),A,$=Nt,D=()=>($(),$=ue(b,M=>n(13,A=M)),b),q,y=Nt,N=()=>(y(),y=ue(_,M=>n(14,q=M)),_);t.$$.on_destroy.push(()=>a()),t.$$.on_destroy.push(()=>o()),t.$$.on_destroy.push(()=>h()),t.$$.on_destroy.push(()=>x()),t.$$.on_destroy.push(()=>$()),t.$$.on_destroy.push(()=>y());let{query:R}=e,{rootNode:H}=e,{visParameters:K}=e,j,G,S=St({x:-1e12,y:-1e12});i();let E=St();l();let F=St(!1);w();let g=St(!1);p();let b=St("ok");D();let _=St();N(),Xs(async()=>{n(18,G=await rn.create(j,K)),i(n(4,{pointerPos:S,tooltip:E,isHover:F,isDragging:g,state:b,error:_}=G,S,l(n(5,E)),w(n(6,F)),p(n(7,g)),D(n(8,b)),N(n(9,_))))}),Ws(()=>{G.destroy()});let T,z;function O(M){_t[M?"unshift":"push"](()=>{j=M,n(3,j)})}function B(){T=this.clientWidth,z=this.clientHeight,n(0,T),n(1,z)}return t.$$set=M=>{"query"in M&&n(15,R=M.query),"rootNode"in M&&n(16,H=M.rootNode),"visParameters"in M&&n(17,K=M.visParameters)},t.$$.update=()=>{t.$$.dirty&360448&&(G==null||G.load(R,H)),t.$$.dirty&393216&&(G==null||G.setVisParameters(K)),t.$$.dirty&524295&&n(10,r=u?`            top: ${s.y}px; 
            left: ${s.x}px; 
            transform: translate(-${s.x/T*100}%,             ${z-s.y<100?"calc(-100% - 8px)":"21px"}`:"display:none")},[T,z,u,j,S,E,F,g,b,_,r,f,m,A,q,R,H,K,G,s,O,B]}class df extends Wt{constructor(e){super(),Qt(this,e,hf,cf,Yt,{query:15,rootNode:16,visParameters:17})}}function qr(t,e,n){const r=t.slice();return r[2]=e[n][0],r[3]=e[n][1],r}function Br(t){let e,n,r=t[2]+"",s,a;return{c(){e=X("li"),n=X("a"),s=ct(r),a=nt(),this.h()},l(i){e=W(i,"LI",{});var u=Q(e);n=W(u,"A",{href:!0,class:!0});var o=Q(n);s=ht(o,r),o.forEach(P),a=rt(u),u.forEach(P),this.h()},h(){I(n,"href",t[0](t[3])),I(n,"class","svelte-lvk24j")},m(i,u){it(i,e,u),C(e,n),C(n,s),C(e,a)},p:Nt,d(i){i&&P(e)}}}function pf(t){let e,n,r,s,a,i,u,o,l,f,h,p,m,x,w,A,$,D,q,y,N,R,H,K,j,G=Object.entries(t[1]),S=[];for(let E=0;E<G.length;E+=1)S[E]=Br(qr(t,G,E));return{c(){e=X("h1"),n=ct("Wikidata Graph Builder"),r=nt(),s=X("p"),a=ct(`Build graphs using\r
    `),i=X("a"),u=ct("Wikidata"),o=nt(),l=X("a"),f=ct("Query Service"),h=ct("."),p=nt(),m=X("p"),x=ct("Examples:"),w=nt(),A=X("ul");for(let E=0;E<S.length;E+=1)S[E].c();$=nt(),D=X("p"),q=ct(`The source code released under\r
    `),y=X("a"),N=ct("MIT license"),R=ct(`\r
    at\r
    `),H=X("a"),K=ct("GitHub "),j=ct("."),this.h()},l(E){e=W(E,"H1",{class:!0});var F=Q(e);n=ht(F,"Wikidata Graph Builder"),F.forEach(P),r=rt(E),s=W(E,"P",{class:!0});var g=Q(s);a=ht(g,`Build graphs using\r
    `),i=W(g,"A",{href:!0,class:!0});var b=Q(i);u=ht(b,"Wikidata"),b.forEach(P),o=rt(g),l=W(g,"A",{href:!0,class:!0});var _=Q(l);f=ht(_,"Query Service"),_.forEach(P),h=ht(g,"."),g.forEach(P),p=rt(E),m=W(E,"P",{class:!0});var T=Q(m);x=ht(T,"Examples:"),T.forEach(P),w=rt(E),A=W(E,"UL",{class:!0});var z=Q(A);for(let st=0;st<S.length;st+=1)S[st].l(z);z.forEach(P),$=rt(E),D=W(E,"P",{class:!0});var O=Q(D);q=ht(O,`The source code released under\r
    `),y=W(O,"A",{href:!0,class:!0});var B=Q(y);N=ht(B,"MIT license"),B.forEach(P),R=ht(O,`\r
    at\r
    `),H=W(O,"A",{href:!0,class:!0});var M=Q(H);K=ht(M,"GitHub "),M.forEach(P),j=ht(O,"."),O.forEach(P),this.h()},h(){I(e,"class","text-3xl md:text-4xl my-8"),I(i,"href","https://www.wikidata.org"),I(i,"class","svelte-lvk24j"),I(l,"href","https://query.wikidata.org/"),I(l,"class","svelte-lvk24j"),I(s,"class","svelte-lvk24j"),I(m,"class","svelte-lvk24j"),I(A,"class","svelte-lvk24j"),I(y,"href","https://opensource.org/licenses/MIT"),I(y,"class","svelte-lvk24j"),I(H,"href","https://github.com/AngryLoki/wikidata-tree-builder"),I(H,"class","svelte-lvk24j"),I(D,"class","text-sm svelte-lvk24j")},m(E,F){it(E,e,F),C(e,n),it(E,r,F),it(E,s,F),C(s,a),C(s,i),C(i,u),C(s,o),C(s,l),C(l,f),C(s,h),it(E,p,F),it(E,m,F),C(m,x),it(E,w,F),it(E,A,F);for(let g=0;g<S.length;g+=1)S[g].m(A,null);it(E,$,F),it(E,D,F),C(D,q),C(D,y),C(y,N),C(D,R),C(D,H),C(H,K),C(D,j)},p(E,[F]){if(F&3){G=Object.entries(E[1]);let g;for(g=0;g<G.length;g+=1){const b=qr(E,G,g);S[g]?S[g].p(b,F):(S[g]=Br(b),S[g].c(),S[g].m(A,null))}for(;g<S.length;g+=1)S[g].d(1);S.length=G.length}},i:Nt,o:Nt,d(E){E&&P(e),E&&P(r),E&&P(s),E&&P(p),E&&P(m),E&&P(w),E&&P(A),Qs(S,E),E&&P($),E&&P(D)}}}function gf(t){return[r=>"?"+new URLSearchParams(r).toString(),{"Parent taxons of Blue Whale (force-based)":{item:"Q42196",property:"P171",sc_color:"#0000003c"},"Class tree for human (directed)":{item:"Q5",property:"P279",graph_direction:"down"},"Parents of Nikita Mikhalkov (directed)":{item:"Q55207",property:"P40",mode:"reverse",iterations:"20",graph_direction:"down"},"Children of Agnes of the Palatinate (force-based, 4 generations)":{property:"P40",item:"Q4450926",iterations:"4"},"Types of integers (force-based, counting instances of each type)":{property:"P279",item:"Q12503",mode:"reverse",size_property:"P31"},"Subclasses of physicists (force-based, counting people by occupation)":{property:"P279",item:"Q169470",mode:"reverse",size_property:"P106"},"Subclasses and parent classes of nonmetals (force-based)":{property:"P279",item:"Q19600",mode:"both"},"People, who were filmed with Jim Carrey":{property:"P161",item:"Q40504",mode:"undirected",iterations:"2"},"All-directional family tree of William Shakespeare":{property:"P40",item:"Q692",mode:"undirected",iterations:"4",graph_direction:"down"},"Is Jesus a descendant of Adam of the 53rd tribe?":{property:"P40",item:"Q70899",iterations:"60",graph_direction:"down"},"Force-directed graph drawing is surely an entity":{property:"P279",item:"Q3076841",graph_direction:"down"},"Connectivity of the USA states (custom query)":{mode:"wdqs",wdqs:`SELECT ?item ?itemLabel ?linkTo {
?item wdt:P31 wd:Q35657 .
OPTIONAL { ?linkTo wdt:P47 ?item ; wdt:P31 wd:Q35657 } .

SERVICE wikibase:label {bd:serviceParam wikibase:language "en" }
}`},"Usage of subclasses of actors":{property:"P279",item:"Q33999",mode:"reverse",size_property:"P106"}}]}class mf extends Wt{constructor(e){super(),Qt(this,e,gf,pf,Yt,{})}}var sn={},_f={get exports(){return sn},set exports(t){sn=t}};(function(t,e){var n=200,r="__lodash_hash_undefined__",s=1,a=2,i=9007199254740991,u="[object Arguments]",o="[object Array]",l="[object AsyncFunction]",f="[object Boolean]",h="[object Date]",p="[object Error]",m="[object Function]",x="[object GeneratorFunction]",w="[object Map]",A="[object Number]",$="[object Null]",D="[object Object]",q="[object Promise]",y="[object Proxy]",N="[object RegExp]",R="[object Set]",H="[object String]",K="[object Symbol]",j="[object Undefined]",G="[object WeakMap]",S="[object ArrayBuffer]",E="[object DataView]",F="[object Float32Array]",g="[object Float64Array]",b="[object Int8Array]",_="[object Int16Array]",T="[object Int32Array]",z="[object Uint8Array]",O="[object Uint8ClampedArray]",B="[object Uint16Array]",M="[object Uint32Array]",st=/[\\^$.*+?()[\]{}|]/g,Et=/^\[object .+?Constructor\]$/,lt=/^(?:0|[1-9]\d*)$/,Y={};Y[F]=Y[g]=Y[b]=Y[_]=Y[T]=Y[z]=Y[O]=Y[B]=Y[M]=!0,Y[u]=Y[o]=Y[S]=Y[f]=Y[E]=Y[h]=Y[p]=Y[m]=Y[w]=Y[A]=Y[D]=Y[N]=Y[R]=Y[H]=Y[G]=!1;var Tt=typeof Le=="object"&&Le&&Le.Object===Object&&Le,bt=typeof self=="object"&&self&&self.Object===Object&&self,ft=Tt||bt||Function("return this")(),ae=e&&!e.nodeType&&e,Qn=ae&&!0&&t&&!t.nodeType&&t,Yn=Qn&&Qn.exports===ae,cn=Yn&&Tt.process,jn=function(){try{return cn&&cn.binding&&cn.binding("util")}catch{}}(),Kn=jn&&jn.isTypedArray;function Ii(c,d){for(var v=-1,k=c==null?0:c.length,at=0,U=[];++v<k;){var ut=c[v];d(ut,v,c)&&(U[at++]=ut)}return U}function Ni(c,d){for(var v=-1,k=d.length,at=c.length;++v<k;)c[at+v]=d[v];return c}function Mi(c,d){for(var v=-1,k=c==null?0:c.length;++v<k;)if(d(c[v],v,c))return!0;return!1}function Di(c,d){for(var v=-1,k=Array(c);++v<c;)k[v]=d(v);return k}function Oi(c){return function(d){return c(d)}}function Ri(c,d){return c.has(d)}function Li(c,d){return c==null?void 0:c[d]}function qi(c){var d=-1,v=Array(c.size);return c.forEach(function(k,at){v[++d]=[at,k]}),v}function Bi(c,d){return function(v){return c(d(v))}}function Hi(c){var d=-1,v=Array(c.size);return c.forEach(function(k){v[++d]=k}),v}var Vi=Array.prototype,Fi=Function.prototype,Ce=Object.prototype,hn=ft["__core-js_shared__"],Zn=Fi.toString,It=Ce.hasOwnProperty,Jn=function(){var c=/[^.]+$/.exec(hn&&hn.keys&&hn.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),tr=Ce.toString,Ui=RegExp("^"+Zn.call(It).replace(st,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),er=Yn?ft.Buffer:void 0,ze=ft.Symbol,nr=ft.Uint8Array,rr=Ce.propertyIsEnumerable,Gi=Vi.splice,Kt=ze?ze.toStringTag:void 0,ir=Object.getOwnPropertySymbols,Xi=er?er.isBuffer:void 0,Wi=Bi(Object.keys,Object),dn=oe(ft,"DataView"),de=oe(ft,"Map"),pn=oe(ft,"Promise"),gn=oe(ft,"Set"),mn=oe(ft,"WeakMap"),pe=oe(Object,"create"),Qi=te(dn),Yi=te(de),ji=te(pn),Ki=te(gn),Zi=te(mn),sr=ze?ze.prototype:void 0,_n=sr?sr.valueOf:void 0;function Zt(c){var d=-1,v=c==null?0:c.length;for(this.clear();++d<v;){var k=c[d];this.set(k[0],k[1])}}function Ji(){this.__data__=pe?pe(null):{},this.size=0}function ts(c){var d=this.has(c)&&delete this.__data__[c];return this.size-=d?1:0,d}function es(c){var d=this.__data__;if(pe){var v=d[c];return v===r?void 0:v}return It.call(d,c)?d[c]:void 0}function ns(c){var d=this.__data__;return pe?d[c]!==void 0:It.call(d,c)}function rs(c,d){var v=this.__data__;return this.size+=this.has(c)?0:1,v[c]=pe&&d===void 0?r:d,this}Zt.prototype.clear=Ji,Zt.prototype.delete=ts,Zt.prototype.get=es,Zt.prototype.has=ns,Zt.prototype.set=rs;function Rt(c){var d=-1,v=c==null?0:c.length;for(this.clear();++d<v;){var k=c[d];this.set(k[0],k[1])}}function is(){this.__data__=[],this.size=0}function ss(c){var d=this.__data__,v=Ne(d,c);if(v<0)return!1;var k=d.length-1;return v==k?d.pop():Gi.call(d,v,1),--this.size,!0}function as(c){var d=this.__data__,v=Ne(d,c);return v<0?void 0:d[v][1]}function os(c){return Ne(this.__data__,c)>-1}function us(c,d){var v=this.__data__,k=Ne(v,c);return k<0?(++this.size,v.push([c,d])):v[k][1]=d,this}Rt.prototype.clear=is,Rt.prototype.delete=ss,Rt.prototype.get=as,Rt.prototype.has=os,Rt.prototype.set=us;function Jt(c){var d=-1,v=c==null?0:c.length;for(this.clear();++d<v;){var k=c[d];this.set(k[0],k[1])}}function ls(){this.size=0,this.__data__={hash:new Zt,map:new(de||Rt),string:new Zt}}function fs(c){var d=Me(this,c).delete(c);return this.size-=d?1:0,d}function cs(c){return Me(this,c).get(c)}function hs(c){return Me(this,c).has(c)}function ds(c,d){var v=Me(this,c),k=v.size;return v.set(c,d),this.size+=v.size==k?0:1,this}Jt.prototype.clear=ls,Jt.prototype.delete=fs,Jt.prototype.get=cs,Jt.prototype.has=hs,Jt.prototype.set=ds;function Ie(c){var d=-1,v=c==null?0:c.length;for(this.__data__=new Jt;++d<v;)this.add(c[d])}function ps(c){return this.__data__.set(c,r),this}function gs(c){return this.__data__.has(c)}Ie.prototype.add=Ie.prototype.push=ps,Ie.prototype.has=gs;function Ft(c){var d=this.__data__=new Rt(c);this.size=d.size}function ms(){this.__data__=new Rt,this.size=0}function _s(c){var d=this.__data__,v=d.delete(c);return this.size=d.size,v}function vs(c){return this.__data__.get(c)}function ys(c){return this.__data__.has(c)}function ws(c,d){var v=this.__data__;if(v instanceof Rt){var k=v.__data__;if(!de||k.length<n-1)return k.push([c,d]),this.size=++v.size,this;v=this.__data__=new Jt(k)}return v.set(c,d),this.size=v.size,this}Ft.prototype.clear=ms,Ft.prototype.delete=_s,Ft.prototype.get=vs,Ft.prototype.has=ys,Ft.prototype.set=ws;function bs(c,d){var v=De(c),k=!v&&Os(c),at=!v&&!k&&vn(c),U=!v&&!k&&!at&&pr(c),ut=v||k||at||U,dt=ut?Di(c.length,String):[],pt=dt.length;for(var ot in c)(d||It.call(c,ot))&&!(ut&&(ot=="length"||at&&(ot=="offset"||ot=="parent")||U&&(ot=="buffer"||ot=="byteLength"||ot=="byteOffset")||zs(ot,pt)))&&dt.push(ot);return dt}function Ne(c,d){for(var v=c.length;v--;)if(fr(c[v][0],d))return v;return-1}function $s(c,d,v){var k=d(c);return De(c)?k:Ni(k,v(c))}function ge(c){return c==null?c===void 0?j:$:Kt&&Kt in Object(c)?ks(c):Ds(c)}function ar(c){return me(c)&&ge(c)==u}function or(c,d,v,k,at){return c===d?!0:c==null||d==null||!me(c)&&!me(d)?c!==c&&d!==d:xs(c,d,v,k,or,at)}function xs(c,d,v,k,at,U){var ut=De(c),dt=De(d),pt=ut?o:Ut(c),ot=dt?o:Ut(d);pt=pt==u?D:pt,ot=ot==u?D:ot;var $t=pt==D,kt=ot==D,gt=pt==ot;if(gt&&vn(c)){if(!vn(d))return!1;ut=!0,$t=!1}if(gt&&!$t)return U||(U=new Ft),ut||pr(c)?ur(c,d,v,k,at,U):Ps(c,d,pt,v,k,at,U);if(!(v&s)){var At=$t&&It.call(c,"__wrapped__"),Pt=kt&&It.call(d,"__wrapped__");if(At||Pt){var Gt=At?c.value():c,Lt=Pt?d.value():d;return U||(U=new Ft),at(Gt,Lt,v,k,U)}}return gt?(U||(U=new Ft),Ss(c,d,v,k,at,U)):!1}function Es(c){if(!dr(c)||Ns(c))return!1;var d=cr(c)?Ui:Et;return d.test(te(c))}function Ts(c){return me(c)&&hr(c.length)&&!!Y[ge(c)]}function As(c){if(!Ms(c))return Wi(c);var d=[];for(var v in Object(c))It.call(c,v)&&v!="constructor"&&d.push(v);return d}function ur(c,d,v,k,at,U){var ut=v&s,dt=c.length,pt=d.length;if(dt!=pt&&!(ut&&pt>dt))return!1;var ot=U.get(c);if(ot&&U.get(d))return ot==d;var $t=-1,kt=!0,gt=v&a?new Ie:void 0;for(U.set(c,d),U.set(d,c);++$t<dt;){var At=c[$t],Pt=d[$t];if(k)var Gt=ut?k(Pt,At,$t,d,c,U):k(At,Pt,$t,c,d,U);if(Gt!==void 0){if(Gt)continue;kt=!1;break}if(gt){if(!Mi(d,function(Lt,ee){if(!Ri(gt,ee)&&(At===Lt||at(At,Lt,v,k,U)))return gt.push(ee)})){kt=!1;break}}else if(!(At===Pt||at(At,Pt,v,k,U))){kt=!1;break}}return U.delete(c),U.delete(d),kt}function Ps(c,d,v,k,at,U,ut){switch(v){case E:if(c.byteLength!=d.byteLength||c.byteOffset!=d.byteOffset)return!1;c=c.buffer,d=d.buffer;case S:return!(c.byteLength!=d.byteLength||!U(new nr(c),new nr(d)));case f:case h:case A:return fr(+c,+d);case p:return c.name==d.name&&c.message==d.message;case N:case H:return c==d+"";case w:var dt=qi;case R:var pt=k&s;if(dt||(dt=Hi),c.size!=d.size&&!pt)return!1;var ot=ut.get(c);if(ot)return ot==d;k|=a,ut.set(c,d);var $t=ur(dt(c),dt(d),k,at,U,ut);return ut.delete(c),$t;case K:if(_n)return _n.call(c)==_n.call(d)}return!1}function Ss(c,d,v,k,at,U){var ut=v&s,dt=lr(c),pt=dt.length,ot=lr(d),$t=ot.length;if(pt!=$t&&!ut)return!1;for(var kt=pt;kt--;){var gt=dt[kt];if(!(ut?gt in d:It.call(d,gt)))return!1}var At=U.get(c);if(At&&U.get(d))return At==d;var Pt=!0;U.set(c,d),U.set(d,c);for(var Gt=ut;++kt<pt;){gt=dt[kt];var Lt=c[gt],ee=d[gt];if(k)var gr=ut?k(ee,Lt,gt,d,c,U):k(Lt,ee,gt,c,d,U);if(!(gr===void 0?Lt===ee||at(Lt,ee,v,k,U):gr)){Pt=!1;break}Gt||(Gt=gt=="constructor")}if(Pt&&!Gt){var Oe=c.constructor,Re=d.constructor;Oe!=Re&&"constructor"in c&&"constructor"in d&&!(typeof Oe=="function"&&Oe instanceof Oe&&typeof Re=="function"&&Re instanceof Re)&&(Pt=!1)}return U.delete(c),U.delete(d),Pt}function lr(c){return $s(c,qs,Cs)}function Me(c,d){var v=c.__data__;return Is(d)?v[typeof d=="string"?"string":"hash"]:v.map}function oe(c,d){var v=Li(c,d);return Es(v)?v:void 0}function ks(c){var d=It.call(c,Kt),v=c[Kt];try{c[Kt]=void 0;var k=!0}catch{}var at=tr.call(c);return k&&(d?c[Kt]=v:delete c[Kt]),at}var Cs=ir?function(c){return c==null?[]:(c=Object(c),Ii(ir(c),function(d){return rr.call(c,d)}))}:Bs,Ut=ge;(dn&&Ut(new dn(new ArrayBuffer(1)))!=E||de&&Ut(new de)!=w||pn&&Ut(pn.resolve())!=q||gn&&Ut(new gn)!=R||mn&&Ut(new mn)!=G)&&(Ut=function(c){var d=ge(c),v=d==D?c.constructor:void 0,k=v?te(v):"";if(k)switch(k){case Qi:return E;case Yi:return w;case ji:return q;case Ki:return R;case Zi:return G}return d});function zs(c,d){return d=d??i,!!d&&(typeof c=="number"||lt.test(c))&&c>-1&&c%1==0&&c<d}function Is(c){var d=typeof c;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?c!=="__proto__":c===null}function Ns(c){return!!Jn&&Jn in c}function Ms(c){var d=c&&c.constructor,v=typeof d=="function"&&d.prototype||Ce;return c===v}function Ds(c){return tr.call(c)}function te(c){if(c!=null){try{return Zn.call(c)}catch{}try{return c+""}catch{}}return""}function fr(c,d){return c===d||c!==c&&d!==d}var Os=ar(function(){return arguments}())?ar:function(c){return me(c)&&It.call(c,"callee")&&!rr.call(c,"callee")},De=Array.isArray;function Rs(c){return c!=null&&hr(c.length)&&!cr(c)}var vn=Xi||Hs;function Ls(c,d){return or(c,d)}function cr(c){if(!dr(c))return!1;var d=ge(c);return d==m||d==x||d==l||d==y}function hr(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=i}function dr(c){var d=typeof c;return c!=null&&(d=="object"||d=="function")}function me(c){return c!=null&&typeof c=="object"}var pr=Kn?Oi(Kn):Ts;function qs(c){return Rs(c)?bs(c):As(c)}function Bs(){return[]}function Hs(){return!1}t.exports=Ls})(_f,sn);const Hr=sn;function vf(t){let e,n,r,s,a;const i=t[4].default,u=In(i,t,t[3],null);return{c(){e=X("div"),n=ct(t[1]),s=nt(),u&&u.c(),this.h()},l(o){e=W(o,"DIV",{class:!0,id:!0});var l=Q(e);n=ht(l,t[1]),l.forEach(P),s=rt(o),u&&u.l(o),this.h()},h(){I(e,"class",r="border-[1.99px] border-transparent font-bold text-gray-400 leading-6 text-sm select-none "+t[2]),I(e,"id","label-"+t[0])},m(o,l){it(o,e,l),C(e,n),it(o,s,l),u&&u.m(o,l),a=!0},p(o,[l]){(!a||l&2)&&an(n,o[1]),(!a||l&4&&r!==(r="border-[1.99px] border-transparent font-bold text-gray-400 leading-6 text-sm select-none "+o[2]))&&I(e,"class",r),u&&u.p&&(!a||l&8)&&Nn(u,i,o,o[3],a?Dn(i,o[3],l,null):Mn(o[3]),null)},i(o){a||(L(u,o),a=!0)},o(o){V(u,o),a=!1},d(o){o&&P(e),o&&P(s),u&&u.d(o)}}}function yf(t,e,n){let{$$slots:r={},$$scope:s}=e;const a=Gr(10);let{label:i}=e,{class:u=""}=e;return Fr("field",{id:a}),t.$$set=o=>{"label"in o&&n(1,i=o.label),"class"in o&&n(2,u=o.class),"$$scope"in o&&n(3,s=o.$$scope)},[a,i,u,s,r]}class Ue extends Wt{constructor(e){super(),Qt(this,e,yf,vf,Yt,{id:0,label:1,class:2})}get id(){return this.$$.ctx[0]}}function Vr(t){let e,n,r,s,a,i,u,o,l;return n=new Ue({props:{label:"Layout",$$slots:{default:[wf]},$$scope:{ctx:t}}}),s=new Ue({props:{label:"Shortcuts",$$slots:{default:[bf]},$$scope:{ctx:t}}}),i=new Ue({props:{label:"Shortcuts color",$$slots:{default:[$f]},$$scope:{ctx:t}}}),o=new Ue({props:{label:"Shortcuts width",$$slots:{default:[xf]},$$scope:{ctx:t}}}),{c(){e=X("div"),Z(n.$$.fragment),r=nt(),Z(s.$$.fragment),a=nt(),Z(i.$$.fragment),u=nt(),Z(o.$$.fragment),this.h()},l(f){e=W(f,"DIV",{class:!0});var h=Q(e);J(n.$$.fragment,h),r=rt(h),J(s.$$.fragment,h),a=rt(h),J(i.$$.fragment,h),u=rt(h),J(o.$$.fragment,h),h.forEach(P),this.h()},h(){I(e,"class","py-1 px-2 grid grid-cols-2 gap-1")},m(f,h){it(f,e,h),tt(n,e,null),C(e,r),tt(s,e,null),C(e,a),tt(i,e,null),C(e,u),tt(o,e,null),l=!0},p(f,h){const p={};h&513&&(p.$$scope={dirty:h,ctx:f}),n.$set(p);const m={};h&513&&(m.$$scope={dirty:h,ctx:f}),s.$set(m);const x={};h&513&&(x.$$scope={dirty:h,ctx:f}),i.$set(x);const w={};h&513&&(w.$$scope={dirty:h,ctx:f}),o.$set(w)},i(f){l||(L(n.$$.fragment,f),L(s.$$.fragment,f),L(i.$$.fragment,f),L(o.$$.fragment,f),l=!0)},o(f){V(n.$$.fragment,f),V(s.$$.fragment,f),V(i.$$.fragment,f),V(o.$$.fragment,f),l=!1},d(f){f&&P(e),et(n),et(s),et(i),et(o)}}}function wf(t){let e,n,r;function s(i){t[3](i)}let a={options:ii};return t[0].graphDirection!==void 0&&(a.value=t[0].graphDirection),e=new On({props:a}),_t.push(()=>yt(e,"value",s)),e.$on("change",t[2]),{c(){Z(e.$$.fragment)},l(i){J(e.$$.fragment,i)},m(i,u){tt(e,i,u),r=!0},p(i,u){const o={};!n&&u&1&&(n=!0,o.value=i[0].graphDirection,wt(()=>n=!1)),e.$set(o)},i(i){r||(L(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){et(e,i)}}}function bf(t){let e,n,r;function s(i){t[4](i)}let a={options:ri};return t[0].shortcutsMode!==void 0&&(a.value=t[0].shortcutsMode),e=new On({props:a}),_t.push(()=>yt(e,"value",s)),e.$on("change",t[2]),{c(){Z(e.$$.fragment)},l(i){J(e.$$.fragment,i)},m(i,u){tt(e,i,u),r=!0},p(i,u){const o={};!n&&u&1&&(n=!0,o.value=i[0].shortcutsMode,wt(()=>n=!1)),e.$set(o)},i(i){r||(L(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){et(e,i)}}}function $f(t){let e,n,r;function s(i){t[5](i)}let a={placement:"bottom-end"};return t[0].shortcutsColor!==void 0&&(a.value=t[0].shortcutsColor),e=new sa({props:a}),_t.push(()=>yt(e,"value",s)),e.$on("change",t[2]),{c(){Z(e.$$.fragment)},l(i){J(e.$$.fragment,i)},m(i,u){tt(e,i,u),r=!0},p(i,u){const o={};!n&&u&1&&(n=!0,o.value=i[0].shortcutsColor,wt(()=>n=!1)),e.$set(o)},i(i){r||(L(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){et(e,i)}}}function xf(t){let e,n,r;function s(i){t[6](i)}let a={required:!0};return t[0].shortcutsWidth!==void 0&&(a.value=t[0].shortcutsWidth),e=new Xr({props:a}),_t.push(()=>yt(e,"value",s)),e.$on("change",t[2]),{c(){Z(e.$$.fragment)},l(i){J(e.$$.fragment,i)},m(i,u){tt(e,i,u),r=!0},p(i,u){const o={};!n&&u&1&&(n=!0,o.value=i[0].shortcutsWidth,wt(()=>n=!1)),e.$set(o)},i(i){r||(L(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){et(e,i)}}}function Ef(t){let e,n,r,s=t[1]?"Collapse":"Show visualization settings",a,i,u,o,l=t[1]&&Vr(t);return{c(){e=X("div"),l&&l.c(),n=nt(),r=X("button"),a=ct(s),this.h()},l(f){e=W(f,"DIV",{class:!0});var h=Q(e);l&&l.l(h),n=rt(h),r=W(h,"BUTTON",{class:!0});var p=Q(r);a=ht(p,s),p.forEach(P),h.forEach(P),this.h()},h(){I(r,"class","w-full leading-6 py-0.5 text-gray-300 bg-transparent hover:bg-white/5 active:bg-black/5 transition-colors"),I(e,"class","absolute top-0 right-0 w-72 flex flex-col gap-1 bg-gray-900/90 rounded-bl-lg overflow-hidden")},m(f,h){it(f,e,h),l&&l.m(e,null),C(e,n),C(e,r),C(r,a),i=!0,u||(o=Ye(r,"click",t[7]),u=!0)},p(f,[h]){f[1]?l?(l.p(f,h),h&2&&L(l,1)):(l=Vr(f),l.c(),L(l,1),l.m(e,n)):l&&(be(),V(l,1,1,()=>{l=null}),$e()),(!i||h&2)&&s!==(s=f[1]?"Collapse":"Show visualization settings")&&an(a,s)},i(f){i||(L(l),i=!0)},o(f){V(l),i=!1},d(f){f&&P(e),l&&l.d(),u=!1,o()}}}function Tf(t,e,n){let{visParameters:r}=e,s=!1;const a=Ur(),i=()=>{a("submit",r)};function u(p){t.$$.not_equal(r.graphDirection,p)&&(r.graphDirection=p,n(0,r))}function o(p){t.$$.not_equal(r.shortcutsMode,p)&&(r.shortcutsMode=p,n(0,r))}function l(p){t.$$.not_equal(r.shortcutsColor,p)&&(r.shortcutsColor=p,n(0,r))}function f(p){t.$$.not_equal(r.shortcutsWidth,p)&&(r.shortcutsWidth=p,n(0,r))}const h=()=>{n(1,s=!s)};return t.$$set=p=>{"visParameters"in p&&n(0,r=p.visParameters)},[r,s,i,u,o,l,f,h]}class Af extends Wt{constructor(e){super(),Qt(this,e,Tf,Ef,Yt,{visParameters:0})}}function Pf(t){let e,n,r,s;return r=new mf({}),{c(){e=X("div"),n=X("div"),Z(r.$$.fragment),this.h()},l(a){e=W(a,"DIV",{class:!0});var i=Q(e);n=W(i,"DIV",{class:!0});var u=Q(n);J(r.$$.fragment,u),u.forEach(P),i.forEach(P),this.h()},h(){I(n,"class","max-w-xl mx-auto w-auto p-4"),I(e,"class","grow overflow-y-auto flex items-center h-screen")},m(a,i){it(a,e,i),C(e,n),tt(r,n,null),s=!0},p:Nt,i(a){s||(L(r.$$.fragment,a),s=!0)},o(a){V(r.$$.fragment,a),s=!1},d(a){a&&P(e),et(r)}}}function Sf(t){let e,n,r,s;return e=new df({props:{query:t[1],rootNode:t[0].queryParameters.item,visParameters:t[0].visParameters}}),r=new Af({props:{visParameters:t[3]}}),r.$on("submit",t[6]),{c(){Z(e.$$.fragment),n=nt(),Z(r.$$.fragment)},l(a){J(e.$$.fragment,a),n=rt(a),J(r.$$.fragment,a)},m(a,i){tt(e,a,i),it(a,n,i),tt(r,a,i),s=!0},p(a,i){const u={};i&2&&(u.query=a[1]),i&1&&(u.rootNode=a[0].queryParameters.item),i&1&&(u.visParameters=a[0].visParameters),e.$set(u);const o={};i&8&&(o.visParameters=a[3]),r.$set(o)},i(a){s||(L(e.$$.fragment,a),L(r.$$.fragment,a),s=!0)},o(a){V(e.$$.fragment,a),V(r.$$.fragment,a),s=!1},d(a){et(e,a),a&&P(n),et(r,a)}}}function kf(t){let e,n,r,s,a,i,u,o,l,f,h,p,m,x,w,A,$,D,q,y,N,R,H;s=new Wr({props:{path:aa,class:"w-12 h-12 fill-white/80"}}),w=new Ca({props:{appParameters:t[0]}}),w.$on("submit",t[5]);const K=[Sf,Pf],j=[];function G(S,E){return S[1]?0:1}return q=G(t),y=j[q]=K[q](t),{c(){e=nt(),n=X("div"),r=X("button"),Z(s.$$.fragment),i=nt(),u=X("div"),l=nt(),f=X("div"),h=X("a"),p=ct("Wikidata Graph Builder"),m=nt(),x=X("div"),Z(w.$$.fragment),$=nt(),D=X("div"),y.c(),this.h()},l(S){Ys("svelte-1ma6td4",document.head).forEach(P),e=rt(S),n=W(S,"DIV",{class:!0});var F=Q(n);r=W(F,"BUTTON",{class:!0});var g=Q(r);J(s.$$.fragment,g),g.forEach(P),i=rt(F),u=W(F,"DIV",{class:!0}),Q(u).forEach(P),l=rt(F),f=W(F,"DIV",{class:!0});var b=Q(f);h=W(b,"A",{href:!0,class:!0});var _=Q(h);p=ht(_,"Wikidata Graph Builder"),_.forEach(P),m=rt(b),x=W(b,"DIV",{class:!0});var T=Q(x);J(w.$$.fragment,T),T.forEach(P),b.forEach(P),$=rt(F),D=W(F,"DIV",{class:!0});var z=Q(D);y.l(z),z.forEach(P),F.forEach(P),this.h()},h(){document.title="Wikidata Graph Builder",I(r,"class",a="absolute top-6 left-0 bg-gray-800/90 w-16 h-16 md:hidden flex items-center justify-center rounded-r-lg z-10 "+(t[2]?"hidden":"")),I(u,"class",o="absolute inset-0 bg-gray-900/80 md:hidden z-10 "+(t[2]?"":"hidden")),I(h,"href",t[4]),I(h,"class","block bg-indigo-700 text-indigo-100 text-xl p-3"),I(x,"class","px-2 py-2"),I(f,"class",A="w-72 flex-none shadow-lg bg-gray-800/90 md:bg-gray-800 overflow-y-auto absolute left-0 top-0 bottom-0 md:static "+(t[2]?"translate-x-0 shadow-gray-900":"transition-transform -translate-x-full")+" md:transform-none transition-transform md:shadow-gray-900 z-10 md:z-auto"),I(D,"class","md:grow overflow-auto relative h-full"),I(n,"class","h-screen max-h-screen md:flex")},m(S,E){it(S,e,E),it(S,n,E),C(n,r),tt(s,r,null),C(n,i),C(n,u),C(n,l),C(n,f),C(f,h),C(h,p),C(f,m),C(f,x),tt(w,x,null),C(n,$),C(n,D),j[q].m(D,null),N=!0,R||(H=[Ye(r,"click",t[9]),Ye(u,"click",t[10])],R=!0)},p(S,[E]){(!N||E&4&&a!==(a="absolute top-6 left-0 bg-gray-800/90 w-16 h-16 md:hidden flex items-center justify-center rounded-r-lg z-10 "+(S[2]?"hidden":"")))&&I(r,"class",a),(!N||E&4&&o!==(o="absolute inset-0 bg-gray-900/80 md:hidden z-10 "+(S[2]?"":"hidden")))&&I(u,"class",o);const F={};E&1&&(F.appParameters=S[0]),w.$set(F),(!N||E&4&&A!==(A="w-72 flex-none shadow-lg bg-gray-800/90 md:bg-gray-800 overflow-y-auto absolute left-0 top-0 bottom-0 md:static "+(S[2]?"translate-x-0 shadow-gray-900":"transition-transform -translate-x-full")+" md:transform-none transition-transform md:shadow-gray-900 z-10 md:z-auto"))&&I(f,"class",A);let g=q;q=G(S),q===g?j[q].p(S,E):(be(),V(j[g],1,1,()=>{j[g]=null}),$e(),y=j[q],y?y.p(S,E):(y=j[q]=K[q](S),y.c()),L(y,1),y.m(D,null))},i(S){N||(L(s.$$.fragment,S),L(w.$$.fragment,S),L(y),N=!0)},o(S){V(s.$$.fragment,S),V(w.$$.fragment,S),V(y),N=!1},d(S){S&&P(e),S&&P(n),et(s),et(w),j[q].d(),R=!1,js(H)}}}function Cf(t,e,n){let r;Ks(t,Zs,w=>n(8,r=w));let s,a=!1,i=_r(),u,o=i.visParameters;const l=w=>{Hr(u,w.queryParameters)||n(7,u=w.queryParameters),Hr(o,w.visParameters)||n(3,o=w.visParameters)},f=r.url.origin+r.url.pathname,h=async w=>{await vr(w.detail,i.visParameters,!1)},p=async w=>{await vr(i.queryParameters,w.detail,!0)},m=()=>{n(2,a=!a)},x=()=>{n(2,a=!1)};return t.$$.update=()=>{t.$$.dirty&256&&n(0,i=_r(r.url.searchParams)),t.$$.dirty&1&&l(i),t.$$.dirty&128&&n(1,s=Yr(u))},[i,s,a,o,f,h,p,u,r,m,x]}class Lf extends Wt{constructor(e){super(),Qt(this,e,Cf,kf,Yt,{})}}export{Lf as P,Ae as a,kr as b,bi as c,Ru as d,on as e,Le as f,Xt as i,Pi as t};
